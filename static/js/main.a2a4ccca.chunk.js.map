{"version":3,"sources":["assets/svgs lazy /^/.*/.svg$/ groupOptions: {} namespace object","Components/firebase.js","Contexts/AuthContext.js","pages/ChatRoom.js","Components/loveResultPortal.js","Contexts/PeerContext.js","pages/Home.js","Components/Navbar.js","pages/VideoCall.js","Components/SignUp.js","Components/Login.js","Components/Profil.js","Components/ForgotPassword.js","Components/UpdateProfile.js","App.js","index.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","usersChat","setChatUsers","useEffect","onAuthStateChanged","user","a","axios","get","headers","process","res","data","filter","email","value","login","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","ChatRoom","height","projectID","userName","split","userSecret","uid","MODAL_STYLES","position","top","left","transform","backgroundColor","padding","zIndex","width","display","flexDirection","justifyContent","OVERLAY_STYLES","right","bottom","ITEM_STYLES","fontSize","textShadow","fontFamily","color","fontWeight","textAlign","margin","ModalNewItem","props","history","useHistory","SVG","setSVG","svgNumber","d","default","ReactDom","createPortal","style","src","messageResult","onClick","push","setMatchResult","document","getElementById","PeerContext","PeerProvider","peer","useRef","showVideoCall","setShowVideoCall","currentCallState","setCurrentCallState","obj","callInformation","setCallInformation","Home","myName","otherName","matchResult","firestore","collection","doc","delete","console","log","error","from","className","onSubmit","preventDefault","fetch","current","response","json","catch","err","type","placeholder","required","autocomplete","ref","for","percentage","result","Navbar","location","useLocation","animation","activeItemNewAnim","$","find","activeWidthNewAnimHeight","innerHeight","activeWidthNewAnimWidth","innerWidth","itemPosNewAnimTop","itemPosNewAnimLeft","css","on","removeClass","this","addClass","window","setTimeout","size","verticalAlign","marginRight","marginBottom","to","exact","data-toggle","data-target","aria-controls","aria-expanded","aria-label","pathname","VideoCall","videoEmitter","videoReceiver","calledUser","calledUserFix","showVideoReceiver","setShowVideoReceiver","showCallIcon","setShowCallIcon","text","callText","setCallText","receivedCallInfo","setReceivedCallInfo","navigator","mediaDevices","getUserMedia","video","audio","srcObject","play","onSnapshot","snapshot","signal","JSON","parse","sd","handleMakeOrEndCall","event","Peer","initiator","stream","trickle","config","iceServers","urls","iceCandidatePoolSize","set","stringify","destroy","name","index","SignUp","emailRef","passwordRef","passwordConfirmRef","setError","show","setShow","signupData","formdata","FormData","append","post","Modal","centered","Card","Body","Alert","variant","Form","Group","Label","Control","Button","disabled","Footer","Login","Dashboard","ForgotPassword","message","setMessage","UpdateProfile","promises","all","finally","defaultValue","App","path","Container","minHeight","maxWidth","Profil","ReactDOM","render","StrictMode"],"mappings":"iLAAA,IAAIA,EAAM,CACT,UAAW,CACV,IACA,GAED,UAAW,CACV,IACA,GAED,WAAY,CACX,IACA,GAED,YAAa,CACZ,IACA,GAED,WAAY,CACX,IACA,GAED,WAAY,CACX,IACA,GAED,WAAY,CACX,IACA,GAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,UAAW,CACV,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,UAAW,CACV,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,UAAW,CACV,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,UAAW,CACV,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,UAAW,CACV,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,UAAW,CACV,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,UAAW,CACV,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,UAAW,CACV,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,IAED,WAAY,CACX,IACA,KAED,WAAY,CACX,IACA,KAED,WAAY,CACX,IACA,KAED,WAAY,CACX,IACA,MAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7B,OAAOR,EAAoBK,EAAEG,EAAI,IAAIJ,MAAK,WACzC,OAAOJ,EAAoBS,MAG7BX,EAAoBY,KAAO,WAC1B,OAAOC,OAAOD,KAAKb,IAEpBC,EAAoBW,GAAK,IACzBG,EAAOC,QAAUf,G,uQCraXgB,G,cAAMC,IAASC,cAAc,CACjCC,OAAQ,0CACRC,WAAY,iCACZC,UAAW,iBACXC,cAAe,6BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,kBAGJC,EAAOV,EAAIU,OACTV,I,wBCXTW,EAAcC,IAAMC,gBAEnB,SAASC,IACd,OAAOC,qBAAWJ,GAGb,SAASK,EAAT,GAAqC,IAAbC,EAAY,EAAZA,SAAY,EACDC,qBADC,mBAChCC,EADgC,KACnBC,EADmB,OAETF,oBAAS,GAFA,mBAEhCG,EAFgC,KAEvBC,EAFuB,OAGLJ,qBAHK,mBAGhCK,EAHgC,KAGrBC,EAHqB,KAgCvCC,qBAAU,WAMR,OALoBf,EAAKgB,oBAAmB,SAAAC,GAC1CP,EAAeO,GACfL,GAAW,QAIZ,IAEHG,oBAAS,sBAAC,4BAAAG,EAAA,0DACLT,EADK,gCAEQU,IAAMC,IAAI,mCAAmC,CAC3DC,QAAQ,CAAC,cAAcC,0CAHjB,OAEFC,EAFE,OAKNT,EAAaS,EAAIC,KAAKC,QAAO,SAAA5C,GAAC,OAAEA,EAAE6C,OAAOjB,EAAYiB,UAL/C,2CAQR,CAACjB,IAEH,IAAMkB,EAAQ,CACZlB,cACAI,YACAe,MA7CF,SAAeF,EAAOG,GACpB,OAAO7B,EAAK8B,2BAA2BJ,EAAOG,IA6C9CE,OAlDF,SAAgBL,EAAOG,GACrB,OAAO7B,EAAKgC,+BAA+BN,EAAOG,IAkDlDI,OA3CF,WACE,OAAOjC,EAAKkC,WA2CZC,cAxCF,SAAuBT,GACrB,OAAO1B,EAAKoC,uBAAuBV,IAwCnCW,YArCF,SAAqBX,GACnB,OAAOjB,EAAY4B,YAAYX,IAqC/BY,eAlCF,SAAwBT,GACtB,OAAOpB,EAAY6B,eAAeT,KAoCpC,OACE,cAAC5B,EAAYsC,SAAb,CAAsBZ,MAAOA,EAA7B,UACIhB,GAAWJ,ICnDNiC,MAlBf,WAAqB,IAEZ/B,EAAgBL,IAAhBK,YAGP,OACiB,MAAfA,EACA,cAAC,IAAD,CACEgC,OAAO,OACPC,UAAWpB,uCACXqB,SAAUlC,EAAYiB,MAAMkB,MAAM,KAAK,GACvCC,WAAYpC,EAAYqC,MAGxB,kBCdAC,G,OAAe,CACjBC,SAAU,QACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXC,gBAAiB,OACjBC,QAAS,OACTC,OAAQ,IACRb,OAAO,QACPc,MAAM,QACNC,QAAS,OACTC,cAAc,SACdC,eAAe,iBAGXC,EAAiB,CACrBX,SAAU,QACVC,IAAK,EACLC,KAAM,EACNU,MAAO,EACPC,OAAQ,EACRT,gBAAiB,oBACjBE,OAAQ,KAgBJQ,EAAc,CAClBC,SAAU,OACVC,WAAY,gDACZC,WAAW,+BACXC,MAAO,OACPb,QAAQ,OACRc,WAAW,UACXC,UAAU,SACVZ,QAAQ,QACRa,OAAO,YAqDIC,MAhDf,SAAsBC,GAEpB,IAAMC,EAAUC,cAEThE,EAAgBL,IAAhBK,YAJoB,EAMLD,mBAAS,MANJ,mBAMpBkE,EANoB,KAMfC,EANe,KA2BzB,OAnBF5D,qBAAU,WACR,OAAO,YAAkBwD,EAAMK,UAA/B,SACChG,MAAK,SAAAiG,GACJF,EAAOE,EAAEC,cAEX,IAeHC,IAASC,aACN,qCACI,qBAAKC,MAAOtB,IACZ,sBAAKsB,MAAOlC,EAAZ,UACM,MAAL2B,GACD,qBAAKQ,IAAKR,IACV,qBAAKO,MAAOnB,EAAZ,SACGS,EAAMY,gBAET,gCACE,wBAAQC,QAvBO,WACL,MAAb3E,EAIH+D,EAAQa,KAAK,UAHXb,EAAQa,KAAK,UAqBT,sBACA,wBAAQD,QAhBG,WACjBb,EAAMe,eAAe,OAef,2BAICC,SAASC,eAAe,YCjG7BC,EAAcvF,IAAMC,gBAOnB,SAASuF,EAAT,GAAqC,IAAbnF,EAAY,EAAZA,SAErBoF,EAAOC,mBAF0B,EAIGpF,oBAAS,GAJZ,mBAIhCqF,EAJgC,KAIjBC,EAJiB,OAKStF,mBAAS,IALlB,mBAKhCuF,EALgC,KAKdC,EALc,OAMOxF,mBAAS,MANhB,mBAQjCyF,EAAM,CACPN,OACAE,gBACAC,mBACAC,mBACAC,sBACAE,gBAdkC,KAelCC,mBAfkC,MAkBvC,OAEE,cAACV,EAAYlD,SAAb,CAAsBZ,MAAOsE,EAA7B,SACM1F,ICkEG6F,MAtFf,WAAiB,IAAD,EDLL/F,qBAAWoF,GCOsBS,GAF5B,EAELL,cAFK,EAEUE,iBAFV,EAE4BG,iBAF5B,KAE6CC,mBAF7C,EAEiEL,iBAC3C1F,KAAhBK,GAHN,EAGLI,UAHK,EAGMJ,aAEZ4F,EAAST,mBACTU,EAAYV,mBANN,EAQ0BpF,mBAAS,MARnC,mBAQL+F,EARK,KAQQjB,EARR,KAyDZ,OA3BAvE,oBAAS,sBAAC,sBAAAG,EAAA,0DACHT,GAA4B,MAAbA,EADZ,0CAGElB,EAASiH,YAAYC,WAAW,SAASC,IAAIjG,EAAYiB,OAAOiF,SAHlE,cAIJC,QAAQC,IAAI,iCAJR,SAKKtH,EAASiH,YAAYC,WAAW,WAAWC,IAAIjG,EAAYiB,OALhE,sBAKwE,MALxE,uCAMInC,EAASiH,YAAYC,WAAW,WAAWC,IAAIjG,EAAYiB,OAAOiF,SANtE,0DAUJC,QAAQE,MAAM,4BAAd,MAVI,YAaPZ,GAAoC,MAAjBA,EAbZ,4CAeE3G,EAASiH,YAAYC,WAAW,SAASC,IAAIR,EAAgBa,MAAMJ,SAfrE,eAgBJC,QAAQC,IAAI,+BAhBR,UAiBKtH,EAASiH,YAAYC,WAAW,WAAWC,IAAIR,EAAgBa,MAjBpE,uBAiB2E,MAjB3E,uCAkBIxH,EAASiH,YAAYC,WAAW,WAAWC,IAAIR,EAAgBa,MAAMJ,SAlBzE,2DAsBJC,QAAQE,MAAM,4BAAd,MAtBI,kEAyBN,IAGc,OAAdP,EACA,uBAAMS,UAAU,OAAOC,SAjDP,SAACpI,GACjBA,EAAEqI,iBACFC,MAAM,8DAAD,OAA+Dd,EAAOe,QAAQzF,MAA9E,kBAA6F2E,EAAUc,QAAQzF,OAAS,CAC3H,OAAU,MACV,QAAW,CACT,iBAAkB,qDAClB,kBAAmB,oCAGtB/C,MAAK,SAAAyI,GAAQ,OACZA,EAASC,UAEV1I,MAAK,SAAC4C,GACHoF,QAAQC,IAAIrF,GACZ8D,EAAe9D,MAElB+F,OAAM,SAACC,GACJZ,QAAQC,IAAI,WAgChB,UACA,sBAAKG,UAAU,OAAf,UACI,uBAAOS,KAAK,OAAOC,YAAY,YAAYC,UAAQ,EAACC,aAAa,MACjEC,IAAKxB,IACL,uBAAOyB,IAAI,OAAOd,UAAU,aAA5B,SACA,sBAAMA,UAAU,sBAGpB,sBAAKA,UAAU,OAAf,UACI,uBAAOS,KAAK,OAAOC,YAAY,aAAaC,UAAQ,EAACC,aAAa,MAClEC,IAAKvB,IACL,uBAAOwB,IAAI,OAAOd,UAAU,aAA5B,SACA,sBAAMA,UAAU,sBAGpB,8BACI,uBAAOS,KAAK,SAAS9F,MAAM,cAAcqF,UAAU,gBAGtD,cAAC,EAAD,CACDpC,UAAW2B,EAAYwB,WACvB5C,cAAeoB,EAAYyB,OAC3B1C,eAAgBA,K,mECgDT2C,EAjIA,WAAO,IAEbxH,EAAgBL,IAAhBK,YAEDyH,EAAWC,cAGjB,SAASC,IACP,IACIC,EADcC,IAAE,2BACgBC,KAAK,WACrCC,EAA2BH,EAAkBI,cAC7CC,EAA0BL,EAAkBM,aAC5CC,EAAoBP,EAAkBrF,WACtC6F,EAAqBR,EAAkBrF,WAC3CsF,IAAE,kBAAkBQ,IAAI,CACtB,IAAMF,EAAkB3F,IAAM,KAC9B,KAAO4F,EAAmB3F,KAAO,KACjC,OAAUsF,EAA2B,KACrC,MAASE,EAA0B,OAErCJ,IAAE,2BAA2BS,GAAG,QAAQ,MAAK,SAASlK,GACpDyJ,IAAE,iCAAiCU,YAAY,UAC/CV,IAAEW,MAAMC,SAAS,UACjB,IAAIV,EAA2BF,IAAEW,MAAMR,cACnCC,EAA0BJ,IAAEW,MAAMN,aAClCC,EAAoBN,IAAEW,MAAMjG,WAC5B6F,EAAqBP,IAAEW,MAAMjG,WACjCsF,IAAE,kBAAkBQ,IAAI,CACtB,IAAMF,EAAkB3F,IAAM,KAC9B,KAAO4F,EAAmB3F,KAAO,KACjC,OAAUsF,EAA2B,KACrC,MAASE,EAA0B,UAczC,OAxCA9B,QAAQC,IAAIqB,GA+BZnH,qBAAU,WAERqH,IACAE,IAAEa,QAAQJ,GAAG,UAAU,WACrBK,YAAW,WAAYhB,MAAgB,UAGxC,IAGH,cAAC,IAAY7F,SAAb,CAAsBZ,MAAO,CAAE0H,KAAM,OAAQpE,MAAO,CAAEqE,cAAe,SAAUC,YAAY,QAASC,aAAa,QAAjH,SACA,sBAAKxC,UAAU,wCAAf,UAEI,cAAC,IAAD,CAASA,UAAU,2BAA2ByC,GAAG,IAAIC,OAAK,EAA1D,oCAGA,wBACE1C,UAAU,iBACV5B,QAAU,WACRgE,YAAW,WAAYhB,QAEzBX,KAAK,SAASkC,cAAY,WAAWC,cAAY,0BAA0BC,gBAAc,yBAAyBC,gBAAc,QAAQC,aAAW,oBALrJ,SAME,mBAAG/C,UAAU,6BAGf,qBACEA,UAAU,2BAA2B/H,GAAG,yBAD1C,SAGe,MAAbwB,EACA,qBAAIuG,UAAU,qBAAd,UAEA,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,SACf,qBAAKA,UAAU,aAGjB,oBAAIA,UAAU,kBACd/B,MAAO,CAAC7B,gBAAoC,MAApB8E,EAAS8B,SAAe,wBAAwB,MADxE,SAEE,eAAC,IAAD,CAAShD,UAAU,WAAWyC,GAAG,IAAIC,OAAK,EAA1C,UACA,cAAC,IAAD,IADA,YAIF,oBAAI1C,UAAU,WACd/B,MAAO,CAAC7B,gBAAoC,gBAApB8E,EAAS8B,SAAyB,wBAAwB,MADlF,SAEE,eAAC,IAAD,CAAShD,UAAU,WAAWyC,GAAG,cAAcC,OAAK,EAApD,UACE,cAAC,IAAD,IADF,kBAIF,oBAAI1C,UAAU,WACd/B,MAAO,CAAC7B,gBAAoC,UAApB8E,EAAS8B,SAAmB,wBAAwB,MAD5E,SAEE,eAAC,IAAD,CAAShD,UAAU,WAAWyC,GAAG,QAAQC,OAAK,EAA9C,UACA,cAAC,IAAD,IADA,gBAIF,oBAAI1C,UAAU,WACd/B,MAAO,CAAC7B,gBAAoC,UAApB8E,EAAS8B,SAAmB,wBAAwB,MAD5E,SAEE,eAAC,IAAD,CAAShD,UAAU,WAAWyC,GAAG,QAAQC,OAAK,EAA9C,UACA,cAAC,IAAD,IADA,yBAMF,qBAAI1C,UAAU,qBAAd,UAEA,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,SACf,qBAAKA,UAAU,aAGjB,oBAAIA,UAAU,kBAAd,SACE,eAAC,IAAD,CAASA,UAAU,WAAWyC,GAAG,IAAIC,OAAK,EAA1C,UACA,cAAC,IAAD,IADA,YAKF,oBAAI1C,UAAU,WAAd,SACE,eAAC,IAAD,CAASA,UAAU,WAAWyC,GAAG,UAAUC,OAAK,EAAhD,UACC,cAAC,IAAD,IADD,cAIF,oBAAI1C,UAAU,WAAd,SACE,eAAC,IAAD,CAASA,UAAU,WAAWyC,GAAG,SAASC,OAAK,EAA/C,UACA,cAAC,IAAD,IADA,wB,gBC4HKO,MA/Of,WAAsB,IAAD,EAEiB7J,IAA3BS,EAFU,EAEVA,UAAWJ,EAFD,EAECA,YAClBmG,QAAQC,IAAIhG,GAEZ,IAAM8E,EAAOC,mBACPsE,EAAetE,mBACfuE,EAAgBvE,mBAChBwE,EAAaxE,mBACbyE,EAAgBzE,mBATL,EAW+BpF,oBAAS,GAXxC,gCAYiCA,oBAAS,IAZ1C,mBAYV8J,EAZU,KAYSC,EAZT,OAauB/J,mBAAS,QAbhC,mBAaVgK,EAbU,KAaIC,EAbJ,OAcejK,mBAAS,CAACkK,KAAK,iBAAkBzJ,KAAK,KAdrD,mBAcV0J,EAdU,KAcAC,EAdA,OAe+BpK,mBAAS,MAfxC,mBAeVqK,EAfU,KAeQC,EAfR,KAiBjB/J,oBAAS,sBAAC,sBAAAG,EAAA,sEACiC6J,UAAUC,aAAaC,aAAa,CAAEC,OAAO,EAAMC,OAAO,IAD3F,OACNjB,EAAa9C,QAAQgE,UADf,OAENlB,EAAa9C,QAAQiE,OAFf,2CAGR,IAEFtK,oBAAS,sBAAC,4BAAAG,EAAA,6DACAK,EAAIhC,EAASiH,YAAYC,WAAW,SAASC,IAAIjG,EAAYiB,OAClE4J,WADS,uCACE,WAAMC,GAAN,SAAArK,EAAA,0DACRqK,EAAS/J,OADD,oBAEkB,UAAvB+J,EAAS/J,OAAOiG,KAFX,gBAGJqD,EAAoBS,EAAS/J,QAC7B+I,GAAqB,GACrBK,EAAY,CAACF,KAAK,GAAIzJ,KAAK,KALvB,0BAOuB,WAAvBsK,EAAS/J,OAAOiG,KAPhB,iBAQJ8C,GAAqB,GACrBK,EAAY,CAACF,KAAK,GAAIzJ,KAAK,KAC3B0E,EAAKyB,QAAQoE,OAAOC,KAAKC,MAAMH,EAAS/J,OAAOmK,KAE/ChG,EAAKyB,QAAQ2B,GAAG,UAAS,SAACvH,GACtB2I,EAAc/C,QAAQgE,UAAU5J,EAChC2I,EAAc/C,QAAQiE,UAdtB,2BAiBuB,WAAvBE,EAAS/J,OAAOiG,KAjBhB,4CAmBMlI,EAASiH,YAAYC,WAAW,SAASC,IAAI6E,EAAS/J,OAAOuF,MAAMJ,SAnBzE,yBAoBMpH,EAASiH,YAAYC,WAAW,SAASC,IAAIjG,EAAYiB,OAAOiF,SApBtE,QAqBAiE,EAAY,CAACF,KAAK,mCAAoCzJ,KAAKsK,EAAS/J,OAAOuF,KAAKnE,MAAM,KAAK,KAC3F6H,EAAgB,QAtBhB,mDAyBA7D,QAAQC,IAAR,MAzBA,mCA4BuB,YAAvB0E,EAAS/J,OAAOiG,KA5BhB,wBA6BJmD,EAAY,CAACF,KAAK,4BAA6BzJ,KAAKsK,EAAS/J,OAAOuF,KAAKnE,MAAM,KAAK,KACpF2H,GAAqB,GACrBE,EAAgB,QA/BZ,UAgCElL,EAASiH,YAAYC,WAAW,SAASC,IAAIjG,EAAYiB,OAAOiF,SAhClE,gCAoCRmE,EAAoB,MApCZ,2DADF,uDADJ,kBAyCCvJ,GAzCD,2CA0CR,IAGF,IAAMqK,EAAmB,uCAAG,WAAMC,GAAN,SAAA3K,EAAA,yDAEN,SAAfsJ,EAFqB,mBAGU,KAA3BJ,EAAWhD,QAAQzF,MAHF,wDAIpB8I,EAAgB,IAChBF,GAAqB,GACrBK,EAAY,CAACF,KAAK,gCAAiCzJ,KAAKmJ,EAAWhD,QAAQzF,MAAMiB,MAAM,KAAK,KAC5F+C,EAAKyB,QAAQ,IAAI0E,EAAK,CAClBC,WAAU,EACVC,OAAO9B,EAAa9C,QAAQgE,UAC5Ba,SAAQ,EACRC,OAAO,CACLC,WAAY,CACV,CACEC,KAAM,CAAC,gCAAiC,mCAG5CC,qBAAsB,MAG5B1G,EAAKyB,QAAQ2B,GAAG,SAAhB,uCAAyB,WAAMvH,GAAN,SAAAN,EAAA,+EAEL3B,EAASiH,YAAYC,WAAW,SAASC,IAAI0D,EAAWhD,QAAQzF,OAC/E2K,IAAI,CACD7E,KAAK,QACLV,KAAKtG,EAAYiB,MACjBiK,GAAGF,KAAKc,UAAU/K,KAND,cAQrBoJ,EAAY,CAACF,KAAK,0BAA2BzJ,KAAKmJ,EAAWhD,QAAQzF,MAAMiB,MAAM,KAAK,GAAGsB,MAAM,KAC/FuG,EAAgB,UAChBJ,EAAcjD,QAAQgD,EAAWhD,QAAQzF,MAVpB,gDAalBiF,QAAQC,IAAR,MAbkB,yDAAzB,uDApBoB,6BAsCL,WAAf2D,EAtCoB,8BAwCC,MAAlBK,EAxCiB,kCAyCVtL,EAASiH,YAAYC,WAAW,SAASC,IAAImE,EAAiB9D,MAAMJ,SAzC1D,yBA0CVpH,EAASiH,YAAYC,WAAW,SAASC,IAAIjG,EAAYiB,OAAOiF,SA1CtD,yBA2CVpH,EAASiH,YAAYC,WAAW,SAASC,IAAImE,EAAiB9D,MACnEuF,IAAI,CACG7E,KAAK,UACLV,KAAKtG,EAAYiB,QA9CT,iDAiDVnC,EAASiH,YAAYC,WAAW,SAASC,IAAI2D,EAAcjD,SAAST,SAjD1D,yBAkDVpH,EAASiH,YAAYC,WAAW,SAASC,IAAIjG,EAAYiB,OAAOiF,SAlDtD,yBAmDVpH,EAASiH,YAAYC,WAAW,SAASC,IAAI0D,EAAWhD,QAAQzF,OACrE2K,IAAI,CACG7E,KAAK,UACLV,KAAKtG,EAAYiB,QAtDT,QAyDpBiE,EAAKyB,QAAQoF,UACb5B,EAAY,CAACF,KAAK,4BAA6BzJ,KAAK,KACpDwJ,EAAgB,QAChBF,GAAqB,GA5DD,mDA+DhB3D,QAAQC,IAAR,MA/DgB,2DAAH,sDAyHzB,OACI,sBAAKG,UAAU,QAAf,UACI,sBAAKA,UAAU,aAAf,UACE,uBAAOa,IAAKqC,IACZ,sBAAKlD,UAAU,qBAAf,UACE,yBAAQyF,KAAK,OAAOxN,GAAG,aAAa4I,IAAKuC,EAAzC,UACA,wBAAQzI,MAAM,GAAd,2CAEAd,GAAWA,EAAUxC,KAAI,SAAC4C,EAAMyL,GAAP,OACrB,wBAAQ/K,MAAOV,EAAKS,MAApB,SAA4BT,EAAKS,MAAMkB,MAAM,KAAK,YAIrC,SAAf4H,GAAwC,WAAfA,IAC3B,sBAAKxD,UAA0B,SAAfwD,EAAsB,kBAAkB,mBAAoBpF,QAASwG,EAArF,UACgB,SAAfpB,GAAuB,cAAC,IAAD,CAAQnB,KAAM,KACtB,WAAfmB,GAAyB,cAAC,IAAD,CAAWnB,KAAM,cAK/C,sBAAKrC,UAAU,aAAf,UACCsD,EACG,uBAAOzC,IAAKsC,IAEE,MAAlBU,IAA2BP,GACvB,qBAAKtD,UAAU,sBAAf,SACI,sBAAKA,UAAU,iCAAf,UACA,qBAAK/B,MAAO,CAAC1B,MAAM,OAAnB,SACA,qBAAKyD,UAAU,kBAAkB/B,MAAO,CAAC1B,MAAM,QAC/C6B,QAnFS,WACrBO,EAAKyB,QAAQ,IAAI0E,EAAK,CAClBC,WAAU,EACVC,OAAO9B,EAAa9C,QAAQgE,UAC5Ba,SAAQ,EACRC,OAAO,CACLC,WAAY,CACV,CACEC,KAAM,CAAC,gCAAiC,mCAG5CC,qBAAsB,MAG5B1G,EAAKyB,QAAQoE,OAAOC,KAAKC,MAAMb,EAAiBc,KAChDhG,EAAKyB,QAAQ2B,GAAG,UAAS,SAACvH,GAC1B,IACAjC,EAASiH,YAAYC,WAAW,SAASC,IAAImE,EAAiB9D,MAC7DuF,IAAI,CACH7E,KAAK,SACLV,KAAKtG,EAAYiB,MACjBiK,GAAGF,KAAKc,UAAU/K,KAEpBoJ,EAAY,CAACF,KAAK,GAAIzJ,KAAK,KAC3BwJ,EAAgB,UAEhB,MAAM5L,GACH+H,QAAQC,IAAIhI,OAGf8G,EAAKyB,QAAQ2B,GAAG,UAAS,SAACvH,GACtBoJ,EAAY,CAACF,KAAK,GAAIzJ,KAAK,KAC3BsJ,GAAqB,GACrBJ,EAAc/C,QAAQgE,UAAU5J,EAChC2I,EAAc/C,QAAQiE,WAgDd,SAEI,cAAC,IAAD,CAAQhC,KAAM,SAGlB,qBAAKpE,MAAO,CAAC1B,MAAM,OAAnB,SACA,qBAAKyD,UAAU,mBAAmB/B,MAAO,CAAC1B,MAAM,QAChD6B,QApDS,WACrB,IACI7F,EAASiH,YAAYC,WAAW,SAASC,IAAImE,EAAiB9D,MAC7DuF,IAAI,CACH7E,KAAK,SACLV,KAAKtG,EAAYiB,QAEnBoJ,EAAoB,MACpBF,EAAY,CAACF,KAAK,mBAAoBzJ,KAAK,KAC3CwJ,EAAgB,QAEhB,MAAM5L,GACH+H,QAAQC,IAAIhI,KAuCP,SAEI,cAAC,IAAD,CAAWwK,KAAM,cAMzB,qBAAKrC,UAAU,kBAAf,SACA,8BAAI2D,EAASD,KAAb,IAAmB,sBAAM1D,UAAU,2BAAhB,SAA4C2D,EAAS1J,mB,6CCnJzE0L,MApFf,WAEI,IAAMC,EAAWhH,mBACXiH,EAAcjH,mBACdkH,EAAqBlH,mBAJb,EAMkBxF,IAAxB2B,EANM,EAMNA,OANM,KAMEtB,YAEUD,mBAAS,KARrB,mBAQPsG,EARO,KAQAiG,EARA,OASgBvM,oBAAS,GATzB,mBASPG,EATO,KASEC,EATF,OAUUJ,oBAAS,GAVnB,mBAUPwM,EAVO,KAUDC,EAVC,KAYRzI,EAAUC,cAZF,4CAcd,WAA4B5F,GAA5B,mBAAAqC,EAAA,yDACIrC,EAAEqI,iBACE2F,EAAYzF,QAAQzF,QAAUmL,EAAmB1F,QAAQzF,MAFjE,yCAGaoL,EAAS,2BAHtB,uBAOMA,EAAS,IACTnM,GAAW,GARjB,SAS6BmB,EAAO6K,EAASxF,QAAQzF,MAAOkL,EAAYzF,QAAQzF,OAThF,OASYuL,EATZ,QAUYC,EAAS,IAAIC,UAEVC,OAAO,QAASH,EAAWjM,KAAKS,OACzCyL,EAASE,OAAO,WAAYH,EAAWjM,KAAKS,MAAMkB,MAAM,KAAK,IAC7DuK,EAASE,OAAO,SAAUH,EAAWjM,KAAK6B,KAKpCvB,EAAMJ,IAAMmM,KAAK,kCAAkCH,EACzD,CACE9L,QAAS,CAAC,cAAcC,0CAE1BsF,QAAQC,IAAItF,GACZ0L,GAAQ,GACRzI,EAAQa,KAAK,KAzBnB,kDA2BM0H,EAAS,+BA3Bf,QA8BInM,GAAW,GA9Bf,2DAdc,sBA+Cd,OACI,eAAC2M,EAAA,EAAD,CAAOP,KAAMA,EAAMQ,UAAQ,EAA3B,UACA,eAACC,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,KAAN,WACE,oBAAI1G,UAAU,mBAAd,qBACCF,GAAS,cAAC6G,EAAA,EAAD,CAAOC,QAAQ,SAAf,SAAyB9G,IACnC,eAAC+G,EAAA,EAAD,CAAM5G,SArDA,4CAqDN,UACE,eAAC4G,EAAA,EAAKC,MAAN,CAAY7O,GAAG,QAAf,UACE,cAAC4O,EAAA,EAAKE,MAAN,oBACA,cAACF,EAAA,EAAKG,QAAN,CAAcvG,KAAK,QAAQI,IAAK+E,EAAUjF,UAAQ,OAEpD,eAACkG,EAAA,EAAKC,MAAN,CAAY7O,GAAG,WAAf,UACE,cAAC4O,EAAA,EAAKE,MAAN,uBACA,cAACF,EAAA,EAAKG,QAAN,CAAcvG,KAAK,WAAWI,IAAKgF,EAAalF,UAAQ,OAE1D,eAACkG,EAAA,EAAKC,MAAN,CAAY7O,GAAG,mBAAf,UACE,cAAC4O,EAAA,EAAKE,MAAN,oCACA,cAACF,EAAA,EAAKG,QAAN,CAAcvG,KAAK,WAAWI,IAAKiF,EAAoBnF,UAAQ,OAEjE,cAACsG,EAAA,EAAD,CAAQC,SAAUvN,EAASqG,UAAU,QAAQS,KAAK,SAAlD,2BAKJ,cAACgG,EAAA,EAAKU,OAAN,UACA,cAACF,EAAA,EAAD,CAAQL,QAAQ,UAAUxI,QAAS,kBAAM6H,GAAQ,IAAjD,uBAKF,sBAAKjG,UAAU,yBAAf,sCAC2B,cAAC,IAAD,CAAMyC,GAAG,SAAT,2BCtFpB,SAAS2E,IACtB,IAAMxB,EAAWhH,mBACXiH,EAAcjH,mBAFU,EAGCxF,IAAvBwB,EAHsB,EAGtBA,MAAOnB,EAHe,EAGfA,YAHe,EAIJD,mBAAS,IAJL,mBAIvBsG,EAJuB,KAIhBiG,EAJgB,OAKAvM,oBAAS,GALT,mBAKvBG,EALuB,KAKdC,EALc,OAMNJ,oBAAS,GANH,mBAMvBwM,EANuB,KAMjBC,EANiB,KAQxBzI,EAAUC,cARc,4CAU9B,WAA4B5F,GAA5B,SAAAqC,EAAA,6DACErC,EAAEqI,iBADJ,SAII6F,EAAS,IACTnM,GAAW,GALf,SAMUgB,EAAMgL,EAASxF,QAAQzF,MAAOkL,EAAYzF,QAAQzF,OAN5D,OAOIiF,QAAQC,IAAIpG,GACZwM,GAAQ,GACRzI,EAAQa,KAAK,KATjB,kDAYI0H,EAAS,oBAZb,QAeEnM,GAAW,GAfb,2DAV8B,sBA4B9B,OACE,eAAC2M,EAAA,EAAD,CAAOP,KAAMA,EAAMQ,UAAQ,EAA3B,UACE,eAACC,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,KAAN,WACE,oBAAI1G,UAAU,mBAAd,oBACCF,GAAS,cAAC6G,EAAA,EAAD,CAAOC,QAAQ,SAAf,SAAyB9G,IACnC,eAAC+G,EAAA,EAAD,CAAM5G,SAlCgB,4CAkCtB,UACE,eAAC4G,EAAA,EAAKC,MAAN,CAAY7O,GAAG,QAAf,UACE,cAAC4O,EAAA,EAAKE,MAAN,oBACA,cAACF,EAAA,EAAKG,QAAN,CAAcvG,KAAK,QAAQI,IAAK+E,EAAUjF,UAAQ,OAEpD,eAACkG,EAAA,EAAKC,MAAN,CAAY7O,GAAG,WAAf,UACE,cAAC4O,EAAA,EAAKE,MAAN,uBACA,cAACF,EAAA,EAAKG,QAAN,CAAcvG,KAAK,WAAWI,IAAKgF,EAAalF,UAAQ,OAE1D,cAACsG,EAAA,EAAD,CAAQC,SAAUvN,EAASqG,UAAU,QAAQS,KAAK,SAAlD,uBAIF,qBAAKT,UAAU,yBAAf,SACE,cAAC,IAAD,CAAMyC,GAAG,mBAAT,mCAGJ,cAAC8D,EAAA,EAAMY,OAAP,UACA,cAACF,EAAA,EAAD,CAAQL,QAAQ,UAAUxI,QAAS,kBAAM6H,GAAQ,IAAjD,uBAKF,sBAAKjG,UAAU,yBAAf,8BACmB,cAAC,IAAD,CAAMyC,GAAG,UAAT,2BCdV4E,MA3Cd,WAAsB,IAAD,EACM7N,mBAAS,IADf,mBACbsG,EADa,KACNiG,EADM,OAEIvM,oBAAS,GAFb,mBAEbwM,EAFa,KAEPC,EAFO,OAIY7M,IAAxBK,EAJY,EAIZA,YAAawB,EAJD,EAICA,OACfuC,EAAUC,cALI,4CAOpB,sBAAAvD,EAAA,6DACE6L,EAAS,IADX,kBAIU9K,IAJV,OAKIuC,EAAQa,KAAK,UALjB,gDAOI0H,EAAS,qBAPb,0DAPoB,sBAkBpB,OACE,eAACQ,EAAA,EAAD,CAAOP,KAAMA,EAAMQ,UAAQ,EAA3B,UACE,eAACC,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,KAAN,WACE,oBAAI1G,UAAU,mBAAd,qBACCF,GAAS,cAAC6G,EAAA,EAAD,CAAOC,QAAQ,SAAf,SAAyB9G,IACnC,4CAHF,IAGwC,MAAbrG,GAAmBA,EAAYiB,MACxD,cAAC,IAAD,CAAM+H,GAAG,kBAAkBzC,UAAU,6BAArC,+BAIF,cAACyG,EAAA,EAAKU,OAAN,UACA,cAACF,EAAA,EAAD,CAAQL,QAAQ,UAAUxI,QAAS,kBAAM6H,GAAQ,IAAjD,uBAKF,qBAAKjG,UAAU,yBAAf,SACE,cAACiH,EAAA,EAAD,CAAQL,QAAQ,OAAOxI,QApCT,2CAoCd,2BCrCO,SAASkJ,IACtB,IAAM1B,EAAWhH,mBACTzD,EAAkB/B,IAAlB+B,cAF+B,EAGb3B,mBAAS,IAHI,mBAGhCsG,EAHgC,KAGzBiG,EAHyB,OAITvM,mBAAS,IAJA,mBAIhC+N,EAJgC,KAIvBC,EAJuB,OAKThO,oBAAS,GALA,mBAKhCG,EALgC,KAKvBC,EALuB,OAMfJ,oBAAS,GANM,mBAMhCwM,EANgC,KAM1BC,EAN0B,iDAQvC,WAA4BpO,GAA5B,SAAAqC,EAAA,6DACErC,EAAEqI,iBADJ,SAIIsH,EAAW,IACXzB,EAAS,IACTnM,GAAW,GANf,SAOUuB,EAAcyK,EAASxF,QAAQzF,OAPzC,OAQI6M,EAAW,6CARf,kDAUIzB,EAAS,4BAVb,QAaEnM,GAAW,GAbb,2DARuC,sBAwBvC,OACE,eAAC2M,EAAA,EAAD,CAAOP,KAAMA,EAAMQ,UAAQ,EAA3B,UACE,eAACC,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,KAAN,WACE,oBAAI1G,UAAU,mBAAd,4BACCF,GAAS,cAAC6G,EAAA,EAAD,CAAOC,QAAQ,SAAf,SAAyB9G,IAClCyH,GAAW,cAACZ,EAAA,EAAD,CAAOC,QAAQ,UAAf,SAA0BW,IACtC,eAACV,EAAA,EAAD,CAAM5G,SA/ByB,4CA+B/B,UACE,eAAC4G,EAAA,EAAKC,MAAN,CAAY7O,GAAG,QAAf,UACE,cAAC4O,EAAA,EAAKE,MAAN,oBACA,cAACF,EAAA,EAAKG,QAAN,CAAcvG,KAAK,QAAQI,IAAK+E,EAAUjF,UAAQ,OAEpD,cAACsG,EAAA,EAAD,CAAQC,SAAUvN,EAASqG,UAAU,QAAQS,KAAK,SAAlD,+BAIF,qBAAKT,UAAU,yBAAf,SACE,cAAC,IAAD,CAAMyC,GAAG,SAAT,wBAGJ,cAACgE,EAAA,EAAKU,OAAN,UACA,cAACF,EAAA,EAAD,CAAQL,QAAQ,UAAUxI,QAAS,kBAAM6H,GAAQ,IAAjD,uBAKF,sBAAKjG,UAAU,yBAAf,8BACmB,cAAC,IAAD,CAAMyC,GAAG,UAAT,2BCnDV,SAASgF,IACtB,IAAM7B,EAAWhH,mBACXiH,EAAcjH,mBACdkH,EAAqBlH,mBAHW,EAKexF,IAA7CK,EAL8B,EAK9BA,YAAa6B,EALiB,EAKjBA,eAAgBD,EALC,EAKDA,YALC,EAOZ7B,mBAAS,IAPG,mBAO/BsG,EAP+B,KAOxBiG,EAPwB,OAQRvM,oBAAS,GARD,mBAQ/BG,EAR+B,KAQtBC,EARsB,OASdJ,oBAAS,GATK,mBAS/BwM,EAT+B,KASzBC,EATyB,KAWhCzI,EAAUC,cA+BhB,OACE,eAAC8I,EAAA,EAAD,CAAOP,KAAMA,EAAMQ,UAAQ,EAA3B,UACE,eAACC,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,KAAN,WACE,oBAAI1G,UAAU,mBAAd,4BACCF,GAAS,cAAC6G,EAAA,EAAD,CAAOC,QAAQ,SAAf,SAAyB9G,IACnC,eAAC+G,EAAA,EAAD,CAAM5G,SAnCd,SAAsBpI,GAEpB,GADAA,EAAEqI,iBACE2F,EAAYzF,QAAQzF,QAAUmL,EAAmB1F,QAAQzF,MAC3D,OAAOoL,EAAS,0BAGlB,IAAM2B,EAAW,GACjB9N,GAAW,GACXmM,EAAS,IAELH,EAASxF,QAAQzF,QAAUlB,EAAYiB,OACzCgN,EAASrJ,KAAKhD,EAAYuK,EAASxF,QAAQzF,QAEzCkL,EAAYzF,QAAQzF,OACtB+M,EAASrJ,KAAK/C,EAAeuK,EAAYzF,QAAQzF,QAGnDjD,QAAQiQ,IAAID,GACT9P,MAAK,WACJ4F,EAAQa,KAAK,QAEdkC,OAAM,WACLwF,EAAS,+BAEV6B,SAAQ,WACPhO,GAAW,OAUT,UACE,eAACiN,EAAA,EAAKC,MAAN,CAAY7O,GAAG,QAAf,UACE,cAAC4O,EAAA,EAAKE,MAAN,oBACA,cAACF,EAAA,EAAKG,QAAN,CACEvG,KAAK,QACLI,IAAK+E,EACLjF,UAAQ,EACRkH,aAA2B,MAAbpO,GAAqBA,EAAYiB,WAGnD,eAACmM,EAAA,EAAKC,MAAN,CAAY7O,GAAG,WAAf,UACE,cAAC4O,EAAA,EAAKE,MAAN,uBACA,cAACF,EAAA,EAAKG,QAAN,CACEvG,KAAK,WACLI,IAAKgF,EACLnF,YAAY,oCAGhB,eAACmG,EAAA,EAAKC,MAAN,CAAY7O,GAAG,mBAAf,UACE,cAAC4O,EAAA,EAAKE,MAAN,oCACA,cAACF,EAAA,EAAKG,QAAN,CACEvG,KAAK,WACLI,IAAKiF,EACLpF,YAAY,oCAGhB,cAACuG,EAAA,EAAD,CAAQC,SAAUvN,EAASqG,UAAU,QAAQS,KAAK,SAAlD,0BAKJ,cAACgG,EAAA,EAAKU,OAAN,UACA,cAACF,EAAA,EAAD,CAAQL,QAAQ,UAAUxI,QAAS,kBAAM6H,GAAQ,IAAjD,uBAKF,qBAAKjG,UAAU,yBAAf,SACE,cAAC,IAAD,CAAMyC,GAAG,IAAT,yBClER,IA8EeqF,EA9EH,WAGV,OACA,cAACpJ,EAAD,UACA,cAACpF,EAAD,UACA,qBAAK0G,UAAU,MAAf,SACC,eAAC,IAAD,WACC,cAAC,EAAD,IACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO+H,KAAK,IAAIrF,OAAK,EAArB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOqF,KAAK,mBAAmBrF,OAAK,EAApC,SACA,cAACsF,EAAA,EAAD,CACFhI,UAAU,mDACV/B,MAAO,CAAEgK,UAAW,SAFlB,SAIF,qBAAKjI,UAAU,QAAQ/B,MAAO,CAAEiK,SAAU,SAA1C,SACA,cAACZ,EAAD,UAIE,cAAC,IAAD,CAAOS,KAAK,UAAUrF,OAAK,EAA3B,SACA,cAACsF,EAAA,EAAD,CACFhI,UAAU,mDACV/B,MAAO,CAAEgK,UAAW,SAFlB,SAIF,qBAAKjI,UAAU,QAAQ/B,MAAO,CAAEiK,SAAU,SAA1C,SACA,cAAC,EAAD,UAIE,cAAC,IAAD,CAAOH,KAAK,SAASrF,OAAK,EAA1B,SACA,cAACsF,EAAA,EAAD,CACFhI,UAAU,mDACV/B,MAAO,CAAEgK,UAAW,SAFlB,SAIF,qBAAKjI,UAAU,QAAQ/B,MAAO,CAAEiK,SAAU,SAA1C,SACA,cAACd,EAAD,UAIE,cAAC,IAAD,CAAOW,KAAK,cAAcrF,OAAK,EAA/B,SACA,cAACsF,EAAA,EAAD,CACFhI,UAAU,mDACV/B,MAAO,CAAEgK,UAAW,SAFlB,SAIF,qBAAKjI,UAAU,QAAQ/B,MAAO,CAAEiK,SAAU,SAA1C,SACA,cAACC,EAAD,UAIE,cAAC,IAAD,CAAOJ,KAAK,kBAAkBrF,OAAK,EAAnC,SACA,cAACsF,EAAA,EAAD,CACFhI,UAAU,mDACV/B,MAAO,CAAEgK,UAAW,SAFlB,SAIF,qBAAKjI,UAAU,QAAQ/B,MAAO,CAAEiK,SAAU,SAA1C,SACA,cAAC,EAAD,UAIE,cAAC,IAAD,CAAOH,KAAK,QAAQrF,OAAK,EAAzB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOqF,KAAK,QAAQrF,OAAK,EAAzB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAUD,GAAG,mBCxFrB2F,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF/J,SAASC,eAAe,W","file":"static/js/main.a2a4ccca.chunk.js","sourcesContent":["var map = {\n\t\"./0.svg\": [\n\t\t406,\n\t\t3\n\t],\n\t\"./1.svg\": [\n\t\t407,\n\t\t4\n\t],\n\t\"./10.svg\": [\n\t\t408,\n\t\t5\n\t],\n\t\"./100.svg\": [\n\t\t409,\n\t\t6\n\t],\n\t\"./11.svg\": [\n\t\t410,\n\t\t7\n\t],\n\t\"./12.svg\": [\n\t\t411,\n\t\t8\n\t],\n\t\"./13.svg\": [\n\t\t412,\n\t\t9\n\t],\n\t\"./14.svg\": [\n\t\t413,\n\t\t10\n\t],\n\t\"./15.svg\": [\n\t\t414,\n\t\t11\n\t],\n\t\"./16.svg\": [\n\t\t415,\n\t\t12\n\t],\n\t\"./17.svg\": [\n\t\t416,\n\t\t13\n\t],\n\t\"./18.svg\": [\n\t\t417,\n\t\t14\n\t],\n\t\"./19.svg\": [\n\t\t418,\n\t\t15\n\t],\n\t\"./2.svg\": [\n\t\t419,\n\t\t16\n\t],\n\t\"./20.svg\": [\n\t\t420,\n\t\t17\n\t],\n\t\"./21.svg\": [\n\t\t421,\n\t\t18\n\t],\n\t\"./22.svg\": [\n\t\t422,\n\t\t19\n\t],\n\t\"./23.svg\": [\n\t\t423,\n\t\t20\n\t],\n\t\"./24.svg\": [\n\t\t424,\n\t\t21\n\t],\n\t\"./25.svg\": [\n\t\t425,\n\t\t22\n\t],\n\t\"./26.svg\": [\n\t\t426,\n\t\t23\n\t],\n\t\"./27.svg\": [\n\t\t427,\n\t\t24\n\t],\n\t\"./28.svg\": [\n\t\t428,\n\t\t25\n\t],\n\t\"./29.svg\": [\n\t\t429,\n\t\t26\n\t],\n\t\"./3.svg\": [\n\t\t430,\n\t\t27\n\t],\n\t\"./30.svg\": [\n\t\t431,\n\t\t28\n\t],\n\t\"./31.svg\": [\n\t\t432,\n\t\t29\n\t],\n\t\"./32.svg\": [\n\t\t433,\n\t\t30\n\t],\n\t\"./33.svg\": [\n\t\t434,\n\t\t31\n\t],\n\t\"./34.svg\": [\n\t\t435,\n\t\t32\n\t],\n\t\"./35.svg\": [\n\t\t436,\n\t\t33\n\t],\n\t\"./36.svg\": [\n\t\t437,\n\t\t34\n\t],\n\t\"./37.svg\": [\n\t\t438,\n\t\t35\n\t],\n\t\"./38.svg\": [\n\t\t439,\n\t\t36\n\t],\n\t\"./39.svg\": [\n\t\t440,\n\t\t37\n\t],\n\t\"./4.svg\": [\n\t\t441,\n\t\t38\n\t],\n\t\"./40.svg\": [\n\t\t442,\n\t\t39\n\t],\n\t\"./41.svg\": [\n\t\t443,\n\t\t40\n\t],\n\t\"./42.svg\": [\n\t\t444,\n\t\t41\n\t],\n\t\"./43.svg\": [\n\t\t445,\n\t\t42\n\t],\n\t\"./44.svg\": [\n\t\t446,\n\t\t43\n\t],\n\t\"./45.svg\": [\n\t\t447,\n\t\t44\n\t],\n\t\"./46.svg\": [\n\t\t448,\n\t\t45\n\t],\n\t\"./47.svg\": [\n\t\t449,\n\t\t46\n\t],\n\t\"./48.svg\": [\n\t\t450,\n\t\t47\n\t],\n\t\"./49.svg\": [\n\t\t451,\n\t\t48\n\t],\n\t\"./5.svg\": [\n\t\t452,\n\t\t49\n\t],\n\t\"./50.svg\": [\n\t\t453,\n\t\t50\n\t],\n\t\"./51.svg\": [\n\t\t454,\n\t\t51\n\t],\n\t\"./52.svg\": [\n\t\t455,\n\t\t52\n\t],\n\t\"./53.svg\": [\n\t\t456,\n\t\t53\n\t],\n\t\"./54.svg\": [\n\t\t457,\n\t\t54\n\t],\n\t\"./55.svg\": [\n\t\t458,\n\t\t55\n\t],\n\t\"./56.svg\": [\n\t\t459,\n\t\t56\n\t],\n\t\"./57.svg\": [\n\t\t460,\n\t\t57\n\t],\n\t\"./58.svg\": [\n\t\t461,\n\t\t58\n\t],\n\t\"./59.svg\": [\n\t\t462,\n\t\t59\n\t],\n\t\"./6.svg\": [\n\t\t463,\n\t\t60\n\t],\n\t\"./60.svg\": [\n\t\t464,\n\t\t61\n\t],\n\t\"./61.svg\": [\n\t\t465,\n\t\t62\n\t],\n\t\"./62.svg\": [\n\t\t466,\n\t\t63\n\t],\n\t\"./63.svg\": [\n\t\t467,\n\t\t64\n\t],\n\t\"./64.svg\": [\n\t\t468,\n\t\t65\n\t],\n\t\"./65.svg\": [\n\t\t469,\n\t\t66\n\t],\n\t\"./66.svg\": [\n\t\t470,\n\t\t67\n\t],\n\t\"./67.svg\": [\n\t\t471,\n\t\t68\n\t],\n\t\"./68.svg\": [\n\t\t472,\n\t\t69\n\t],\n\t\"./69.svg\": [\n\t\t473,\n\t\t70\n\t],\n\t\"./7.svg\": [\n\t\t474,\n\t\t71\n\t],\n\t\"./70.svg\": [\n\t\t475,\n\t\t72\n\t],\n\t\"./71.svg\": [\n\t\t476,\n\t\t73\n\t],\n\t\"./72.svg\": [\n\t\t477,\n\t\t74\n\t],\n\t\"./73.svg\": [\n\t\t478,\n\t\t75\n\t],\n\t\"./74.svg\": [\n\t\t479,\n\t\t76\n\t],\n\t\"./75.svg\": [\n\t\t480,\n\t\t77\n\t],\n\t\"./76.svg\": [\n\t\t481,\n\t\t78\n\t],\n\t\"./77.svg\": [\n\t\t482,\n\t\t79\n\t],\n\t\"./78.svg\": [\n\t\t483,\n\t\t80\n\t],\n\t\"./79.svg\": [\n\t\t484,\n\t\t81\n\t],\n\t\"./8.svg\": [\n\t\t485,\n\t\t82\n\t],\n\t\"./80.svg\": [\n\t\t486,\n\t\t83\n\t],\n\t\"./81.svg\": [\n\t\t487,\n\t\t84\n\t],\n\t\"./82.svg\": [\n\t\t488,\n\t\t85\n\t],\n\t\"./83.svg\": [\n\t\t489,\n\t\t86\n\t],\n\t\"./84.svg\": [\n\t\t490,\n\t\t87\n\t],\n\t\"./85.svg\": [\n\t\t491,\n\t\t88\n\t],\n\t\"./86.svg\": [\n\t\t492,\n\t\t89\n\t],\n\t\"./87.svg\": [\n\t\t493,\n\t\t90\n\t],\n\t\"./88.svg\": [\n\t\t494,\n\t\t91\n\t],\n\t\"./89.svg\": [\n\t\t495,\n\t\t92\n\t],\n\t\"./9.svg\": [\n\t\t496,\n\t\t93\n\t],\n\t\"./90.svg\": [\n\t\t497,\n\t\t94\n\t],\n\t\"./91.svg\": [\n\t\t498,\n\t\t95\n\t],\n\t\"./92.svg\": [\n\t\t499,\n\t\t96\n\t],\n\t\"./93.svg\": [\n\t\t500,\n\t\t97\n\t],\n\t\"./94.svg\": [\n\t\t501,\n\t\t98\n\t],\n\t\"./95.svg\": [\n\t\t502,\n\t\t99\n\t],\n\t\"./96.svg\": [\n\t\t503,\n\t\t100\n\t],\n\t\"./97.svg\": [\n\t\t504,\n\t\t101\n\t],\n\t\"./98.svg\": [\n\t\t505,\n\t\t102\n\t],\n\t\"./99.svg\": [\n\t\t506,\n\t\t103\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 382;\nmodule.exports = webpackAsyncContext;","import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\nimport 'firebase/firestore'\r\nconst app = firebase.initializeApp({\r\n  apiKey: \"AIzaSyAaBlsJsd_p9RK6rd8Z0BqIh9SeQ6sGjDA\",\r\n  authDomain: \"chat-app-e3fef.firebaseapp.com\",\r\n  projectId: \"chat-app-e3fef\",\r\n  storageBucket: \"chat-app-e3fef.appspot.com\",\r\n  messagingSenderId: \"293479775714\",\r\n  appId: \"1:293479775714:web:14d262a04c59e4e86f8dbb\",\r\n  measurementId: \"G-8N6DY58FPK\"\r\n})\r\n\r\nexport const auth = app.auth()\r\nexport default app","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { auth } from \"../Components/firebase\"\r\nimport axios from 'axios'\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n    const [currentUser, setCurrentUser] = useState()\r\n    const [loading, setLoading] = useState(true)\r\n    const [usersChat, setChatUsers] = useState()\r\n  \r\n    function signup(email, password) {\r\n      return auth.createUserWithEmailAndPassword(email, password)\r\n    }\r\n  \r\n    function login(email, password) {\r\n      return auth.signInWithEmailAndPassword(email, password)\r\n    }\r\n  \r\n    function logout() {\r\n      return auth.signOut()\r\n    }\r\n  \r\n    function resetPassword(email) {\r\n      return auth.sendPasswordResetEmail(email)\r\n    }\r\n  \r\n    function updateEmail(email) {\r\n      return currentUser.updateEmail(email)\r\n    }\r\n  \r\n    function updatePassword(password) {\r\n      return currentUser.updatePassword(password)\r\n    }\r\n    function signupChat(email, password) {\r\n      console.log(currentUser)\r\n    }\r\n  \r\n    useEffect(() => {\r\n      const unsubscribe = auth.onAuthStateChanged(user => {\r\n        setCurrentUser(user)\r\n        setLoading(false)\r\n      })\r\n\r\n      return unsubscribe\r\n    }, [])\r\n\r\n    useEffect(async() => {\r\n      if(currentUser){\r\n        let res=await axios.get('https://api.chatengine.io/users/',{\r\n        headers:{\"private-key\":process.env.REACT_APP_CHAT_ENGINE_PRIVATE_KEY}\r\n        })\r\n        setChatUsers(res.data.filter(e=>e.email!=currentUser.email))\r\n       // console.log(res)\r\n      }\r\n    },[currentUser])\r\n  \r\n    const value = {\r\n      currentUser,\r\n      usersChat,\r\n      login,\r\n      signup,\r\n      logout,\r\n      resetPassword,\r\n      updateEmail,\r\n      updatePassword\r\n    }\r\n  \r\n    return (\r\n      <AuthContext.Provider value={value}>\r\n        {!loading && children}\r\n      </AuthContext.Provider>\r\n    )\r\n  }","import { ChatEngine } from 'react-chat-engine';\r\nimport '../Css/ChatRoom.css';\r\nimport { useAuth } from \"../Contexts/AuthContext\"\r\n\r\nfunction ChatRoom() {\r\n\r\n  const {currentUser } = useAuth()\r\n\r\n\r\n  return (\r\n    currentUser != null?\r\n    <ChatEngine\r\n      height=\"90vh\"\r\n      projectID={process.env.REACT_APP_CHAT_ENGINE_PROJECT_ID}\r\n      userName={currentUser.email.split(\"@\")[0]}\r\n      userSecret={currentUser.uid}\r\n      //renderChatHeader={(chat) => <ChatRoomHeader {...chat}/>}\r\n    />\r\n    : \"Connectez vous\"\r\n  )\r\n}\r\n\r\nexport default ChatRoom;","import React, {useState, useEffect} from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useAuth } from \"../Contexts/AuthContext\"\r\nconst MODAL_STYLES = {\r\n    position: 'fixed',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    backgroundColor: '#FFF',\r\n    padding: '50px',\r\n    zIndex: 1000,\r\n    height:'500px',\r\n    width:'450px',\r\n    display: 'flex',\r\n    flexDirection:'column',\r\n    justifyContent:'space-around',\r\n  }\r\n  \r\n  const OVERLAY_STYLES = {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, .7)',\r\n    zIndex: 1000,\r\n  }\r\n\r\n  const MODAL_TITLE = {\r\n    fontFamily: \"Overpass\",\r\n    fontStyle: \"normal\",\r\n    fontWeight: \"600\",\r\n    fontSize: \"24px\",\r\n    lineHeight: \"37px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    textTransform: \"capitalize\",\r\n    fontFeatureSettings: \"tnum on, lnum on\",   \r\n    color: \"#000000\",\r\n  }\r\n\r\n  const ITEM_STYLES = {\r\n    fontSize: '32px',\r\n    textShadow: '-1px -1px #0c0, 1px 1px #060, -3px 0 4px #000',\r\n    fontFamily:'Arial, Helvetica, sans-serif',\r\n    color: '#090',\r\n    padding:'16px',\r\n    fontWeight:'lighter',\r\n    textAlign:'center',\r\n    display:'block',\r\n    margin:'rgba16px',\r\n  }\r\n\r\n \r\n\r\nfunction ModalNewItem(props) {\r\n\r\n  const history = useHistory()\r\n\r\n  const {currentUser } = useAuth()\r\n\r\n  const [SVG, setSVG] = useState(null)\r\n\r\n  useEffect(() =>{\r\n    import(`../assets/svgs/${props.svgNumber}.svg`)\r\n    .then(d=>{\r\n      setSVG(d.default)\r\n    }) \r\n  },[])\r\n\r\n  const handleLinkChat = () => {\r\n    if(currentUser!=null) {\r\n      history.push(\"/chat\")\r\n      return\r\n    }\r\n    history.push(\"/login\")\r\n  }\r\n\r\n  const handleExit = () => {\r\n    props.setMatchResult(null)\r\n  }\r\n\r\n    return (\r\n ReactDom.createPortal(\r\n    <>\r\n        <div style={OVERLAY_STYLES} />\r\n        <div style={MODAL_STYLES}>\r\n        {SVG!=null &&\r\n        <img src={SVG}/>}\r\n        <div style={ITEM_STYLES}>\r\n          {props.messageResult}\r\n        </div>\r\n        <div>\r\n          <button onClick={handleLinkChat}>Chatroom</button>\r\n          <button onClick={handleExit}>Exit</button>\r\n        </div>\r\n        </div>\r\n    </>,\r\n           document.getElementById('portal')\r\n        )\r\n    )\r\n}\r\n\r\nexport default ModalNewItem\r\n","import React, {useState, useContext, useRef} from 'react'\r\n\r\nconst PeerContext = React.createContext()\r\n\r\nexport function usePeer() {\r\n    return useContext(PeerContext)\r\n}\r\n\r\n\r\nexport function PeerProvider({ children }) {\r\n \r\n    const peer = useRef() \r\n\r\n    const [showVideoCall, setShowVideoCall] = useState(false)\r\n    const [currentCallState, setCurrentCallState] = useState(\"\")\r\n    const [callInformation, setCallInformation] = useState(null)\r\n\r\n    const obj = {\r\n         peer,\r\n         showVideoCall,\r\n         setShowVideoCall,\r\n         currentCallState,\r\n         setCurrentCallState,\r\n         callInformation,\r\n         setCallInformation\r\n        }\r\n\r\n    return (\r\n        \r\n      <PeerContext.Provider value={obj}>\r\n          { children }\r\n      </PeerContext.Provider>\r\n    )\r\n}\r\n\r\n","import React, {useRef, useState, useEffect} from 'react'\r\nimport '../Css/home.css'\r\n\r\nimport LoveResult from '../Components/loveResultPortal';\r\n\r\nimport { usePeer } from \"../Contexts/PeerContext\"\r\nimport { useAuth } from \"../Contexts/AuthContext\"\r\n\r\nimport firebase from '../Components/firebase'\r\n\r\nfunction Home() {\r\n\r\n    const {showVideoCall, currentCallState, callInformation, setCallInformation, setShowVideoCall } = usePeer() \r\n    const {usersChat, currentUser } = useAuth()  \r\n\r\n    const myName = useRef()\r\n    const otherName = useRef()\r\n\r\n    const [matchResult, setMatchResult] = useState(null)\r\n\r\n    const handleMatch = (e) =>{\r\n        e.preventDefault()\r\n        fetch(`https://love-calculator.p.rapidapi.com/getPercentage?fname=${myName.current.value}&sname=${otherName.current.value}`, {\r\n          \"method\": \"GET\",\r\n          \"headers\": {\r\n            \"x-rapidapi-key\": \"36f99601d0mshff227eef7694e85p164d14jsn84b0ebf94d9e\",\r\n            \"x-rapidapi-host\": \"love-calculator.p.rapidapi.com\"\r\n          }\r\n        })\r\n        .then(response => \r\n          response.json()\r\n        )\r\n        .then((data) => {\r\n            console.log(data)\r\n            setMatchResult(data)\r\n        })\r\n        .catch((err) =>{\r\n            console.log(\"err\")\r\n        })\r\n    }\r\n    useEffect(async()=>{\r\n        if(currentUser && currentUser!=null){\r\n        try {\r\n          await firebase.firestore().collection('calls').doc(currentUser.email).delete()\r\n          console.log(\"Current successfully deleted!\");\r\n          if(await firebase.firestore().collection('destroy').doc(currentUser.email)!=null){\r\n            await firebase.firestore().collection('destroy').doc(currentUser.email).delete()\r\n          }\r\n        }\r\n        catch(error){\r\n          console.error(\"Error removing document: \", error);\r\n        }\r\n    }\r\n    if(callInformation && callInformation!=null){\r\n        try {\r\n          await firebase.firestore().collection('calls').doc(callInformation.from).delete()\r\n          console.log(\"Other successfully deleted!\");\r\n          if(await firebase.firestore().collection('destroy').doc(callInformation.from)!=null){\r\n            await firebase.firestore().collection('destroy').doc(callInformation.from).delete()\r\n          }\r\n        }\r\n        catch(error){\r\n          console.error(\"Error removing document: \", error);\r\n        }\r\n    }\r\n      },[])\r\n\r\n    return (\r\n        matchResult===null?\r\n        <form className=\"home\" onSubmit={handleMatch}>\r\n        <div className=\"form\">\r\n            <input type=\"text\" placeholder=\"Your Name\" required autocomplete=\"off\"\r\n            ref={myName}/>\r\n            <label for=\"name\" className=\"label-name\">\r\n            <span className=\"content-name\"></span>    \r\n            </label>  \r\n        </div>\r\n        <div className=\"form\">\r\n            <input type=\"text\" placeholder=\"Match Name\" required autocomplete=\"off\"\r\n            ref={otherName}/>\r\n            <label for=\"name\" className=\"label-name\">\r\n            <span className=\"content-name\"></span>    \r\n            </label>  \r\n        </div>\r\n        <div>\r\n            <input type=\"submit\" value=\"Calcul love\" className=\"button\"/> \r\n        </div>\r\n        </form>\r\n        :<LoveResult \r\n        svgNumber={matchResult.percentage}\r\n        messageResult={matchResult.result}\r\n        setMatchResult={setMatchResult}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React , {useEffect} from 'react'\r\nimport './../Css/Navbar.css';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport $ from 'jquery';\r\nimport { useAuth } from '../Contexts/AuthContext'\r\nimport {AiOutlineLogin, AiOutlineHome, AiOutlineLogout} from 'react-icons/ai'\r\nimport {VscSignIn, VscAccount} from 'react-icons/vsc'\r\nimport {BsChatDots} from 'react-icons/bs'\r\nimport { IconContext } from 'react-icons'\r\nimport {MdCall} from 'react-icons/md'\r\nconst Navbar = () => {\r\n\r\n  const {currentUser } = useAuth()\r\n\r\n  const location = useLocation() \r\n  console.log(location)\r\n\r\n  function animation(){\r\n    var tabsNewAnim = $('#navbarSupportedContent');\r\n    var activeItemNewAnim = tabsNewAnim.find('.active');\r\n    var activeWidthNewAnimHeight = activeItemNewAnim.innerHeight();\r\n    var activeWidthNewAnimWidth = activeItemNewAnim.innerWidth();\r\n    var itemPosNewAnimTop = activeItemNewAnim.position();\r\n    var itemPosNewAnimLeft = activeItemNewAnim.position();\r\n    $(\".hori-selector\").css({\r\n      \"top\":itemPosNewAnimTop.top + \"px\", \r\n      \"left\":itemPosNewAnimLeft.left + \"px\",\r\n      \"height\": activeWidthNewAnimHeight + \"px\",\r\n      \"width\": activeWidthNewAnimWidth + \"px\"\r\n    });\r\n    $(\"#navbarSupportedContent\").on(\"click\",\"li\",function(e){\r\n      $('#navbarSupportedContent ul li').removeClass(\"active\");\r\n      $(this).addClass('active');\r\n      var activeWidthNewAnimHeight = $(this).innerHeight();\r\n      var activeWidthNewAnimWidth = $(this).innerWidth();\r\n      var itemPosNewAnimTop = $(this).position();\r\n      var itemPosNewAnimLeft = $(this).position();\r\n      $(\".hori-selector\").css({\r\n        \"top\":itemPosNewAnimTop.top + \"px\", \r\n        \"left\":itemPosNewAnimLeft.left + \"px\",\r\n        \"height\": activeWidthNewAnimHeight + \"px\",\r\n        \"width\": activeWidthNewAnimWidth + \"px\"\r\n      });\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    \r\n    animation();\r\n    $(window).on('resize', function(){\r\n      setTimeout(function(){ animation(); }, 500);\r\n    });\r\n    \r\n  }, []);\r\n\r\n  return (\r\n  <IconContext.Provider value={{ size: '22px', style: { verticalAlign: 'middle', marginRight:'7.5px', marginBottom:'3px' } }}>\r\n  <nav className=\"navbar navbar-expand-lg navbar-mainbg\">\r\n    \r\n      <NavLink className=\"navbar-brand navbar-logo\" to=\"/\" exact>\r\n        SalKat Love Calculator\r\n      </NavLink>\r\n      <button \r\n        className=\"navbar-toggler\"\r\n        onClick={ function(){\r\n          setTimeout(function(){ animation(); });\r\n        }}\r\n        type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n        <i className=\"fas fa-bars text-white\"></i>\r\n      </button>\r\n \r\n      <div \r\n        className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n        {\r\n        currentUser!=null?\r\n        <ul className=\"navbar-nav ml-auto\">\r\n            \r\n        <div className=\"hori-selector\">\r\n          <div className=\"left\"></div>\r\n          <div className=\"right\"></div>\r\n        </div>\r\n        \r\n        <li className=\"nav-item active\"\r\n        style={{backgroundColor:location.pathname==='/'?'rgba(255,255,255,0.2)':null}}>\r\n          <NavLink className=\"nav-link\" to=\"/\" exact>\r\n          <AiOutlineHome/>Home\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"nav-item\"\r\n        style={{backgroundColor:location.pathname==='/my-account'?'rgba(255,255,255,0.2)':null}}>\r\n          <NavLink className=\"nav-link\" to=\"/my-account\" exact>\r\n            <VscAccount/>My Account\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"nav-item\"\r\n        style={{backgroundColor:location.pathname==='/chat'?'rgba(255,255,255,0.2)':null}}>\r\n          <NavLink className=\"nav-link\" to=\"/chat\" exact>\r\n          <BsChatDots/>Chatroom \r\n          </NavLink>\r\n        </li>\r\n        <li className=\"nav-item\"\r\n        style={{backgroundColor:location.pathname==='/call'?'rgba(255,255,255,0.2)':null}}>\r\n          <NavLink className=\"nav-link\" to=\"/call\" exact>\r\n          <MdCall/>PeerToPeerCall\r\n          </NavLink>\r\n        </li>\r\n    </ul>\r\n        :\r\n        <ul className=\"navbar-nav ml-auto\">\r\n            \r\n        <div className=\"hori-selector\">\r\n          <div className=\"left\"></div>\r\n          <div className=\"right\"></div>\r\n        </div>\r\n        \r\n        <li className=\"nav-item active\">\r\n          <NavLink className=\"nav-link\" to=\"/\" exact>\r\n          <AiOutlineHome/>Home\r\n          </NavLink>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <NavLink className=\"nav-link\" to=\"/signup\" exact>\r\n           <VscSignIn/>Signup\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <NavLink className=\"nav-link\" to=\"/login\" exact>\r\n          <AiOutlineLogin/>\r\n          Login\r\n          </NavLink>\r\n        </li>\r\n    </ul>\r\n        }\r\n      </div>\r\n  </nav>\r\n  </IconContext.Provider>\r\n  )\r\n}\r\nexport default Navbar;","import React, {useEffect, useRef, useState} from 'react'\r\n\r\nimport * as Peer from 'simple-peer'\r\n\r\nimport firebase from '../Components/firebase'\r\n\r\nimport {MdCall, MdCallEnd} from 'react-icons/md'\r\n\r\nimport '../Css/videoCall.css'\r\n\r\nimport { useAuth } from \"../Contexts/AuthContext\"\r\n\r\nfunction VideoCall() {\r\n\r\n    const {usersChat, currentUser } = useAuth() \r\n    console.log(usersChat)\r\n\r\n    const peer = useRef()\r\n    const videoEmitter = useRef()\r\n    const videoReceiver = useRef()\r\n    const calledUser = useRef()\r\n    const calledUserFix = useRef()\r\n\r\n    const [showVideoEmitter, setShowVideoEmitter] = useState(true)\r\n    const [showVideoReceiver, setShowVideoReceiver] = useState(false)\r\n    const [showCallIcon, setShowCallIcon] = useState('show')\r\n    const [callText, setCallText] = useState({text:'Receiver video', user:''})\r\n    const [receivedCallInfo, setReceivedCallInfo] = useState(null)\r\n\r\n    useEffect(async()=>{\r\n        videoEmitter.current.srcObject = await navigator.mediaDevices.getUserMedia({ video: true, audio: false })\r\n        videoEmitter.current.play()\r\n    },[])\r\n    \r\n    useEffect(async()=>{\r\n        const res=firebase.firestore().collection('calls').doc(currentUser.email)\r\n        .onSnapshot(async(snapshot)=>{\r\n         if(snapshot.data()){\r\n            if(snapshot.data().type===\"offer\"){\r\n                setReceivedCallInfo(snapshot.data())\r\n                setShowVideoReceiver(false)\r\n                setCallText({text:'', user:''})\r\n            }\r\n            else if(snapshot.data().type===\"accept\"){\r\n                setShowVideoReceiver(true)\r\n                setCallText({text:'', user:''})\r\n                peer.current.signal(JSON.parse(snapshot.data().sd))\r\n          \r\n                peer.current.on('stream',(data)=>{\r\n                    videoReceiver.current.srcObject=data\r\n                    videoReceiver.current.play()\r\n                  }) \r\n            }\r\n            else if(snapshot.data().type===\"refuse\") {\r\n                try {\r\n                    await firebase.firestore().collection('calls').doc(snapshot.data().from).delete()\r\n                    await firebase.firestore().collection('calls').doc(currentUser.email).delete()\r\n                    setCallText({text:'The call was not accepted fromby', user:snapshot.data().from.split('@')[0]})\r\n                    setShowCallIcon(\"show\")\r\n                }\r\n                catch (e) {\r\n                    console.log(e)\r\n                }\r\n            }\r\n            else if(snapshot.data().type===\"destroy\") {\r\n                setCallText({text:'The call was destroyed by', user:snapshot.data().from.split('@')[0]})\r\n                setShowVideoReceiver(false)\r\n                setShowCallIcon(\"show\")\r\n                await firebase.firestore().collection('calls').doc(currentUser.email).delete()\r\n            }\r\n         }\r\n         else{\r\n            setReceivedCallInfo(null)\r\n        }\r\n        })\r\n        return res\r\n    },[])\r\n\r\n\r\n    const handleMakeOrEndCall = async(event) => {\r\n        \r\n        if(showCallIcon===\"show\") {          \r\n            if(calledUser.current.value===\"\")return\r\n            setShowCallIcon(\"\")\r\n            setShowVideoReceiver(false)\r\n            setCallText({text:'Try to establish a connection', user:calledUser.current.value.split('@')[0],})\r\n            peer.current=new Peer({\r\n                initiator:true,\r\n                stream:videoEmitter.current.srcObject,\r\n                trickle:false, \r\n                config:{\r\n                  iceServers: [\r\n                    {\r\n                      urls: ['stun:stun1.l.google.com:19302', 'stun:stun2.l.google.com:19302'],\r\n                    },\r\n                  ],\r\n                  iceCandidatePoolSize: 10,\r\n                }\r\n              })\r\n            peer.current.on('signal',async(data)=>{\r\n                try {\r\n                const res=await firebase.firestore().collection('calls').doc(calledUser.current.value)\r\n                .set({\r\n                    type:\"offer\",\r\n                    from:currentUser.email,\r\n                    sd:JSON.stringify(data)\r\n                })\r\n                setCallText({text:'Waiting for answer from', user:calledUser.current.value.split('@')[0],color:''})\r\n                setShowCallIcon(\"noshow\")\r\n                calledUserFix.current=calledUser.current.value\r\n               }\r\n               catch (e) {\r\n                   console.log(e)\r\n               }\r\n            })\r\n            return\r\n        }\r\n        if (showCallIcon===\"noshow\"){\r\n            try{\r\n            if(receivedCallInfo!=null){\r\n                await firebase.firestore().collection('calls').doc(receivedCallInfo.from).delete()\r\n                await firebase.firestore().collection('calls').doc(currentUser.email).delete()\r\n                await firebase.firestore().collection('calls').doc(receivedCallInfo.from)\r\n                .set({\r\n                        type:\"destroy\",\r\n                        from:currentUser.email,\r\n                })\r\n            }else{\r\n                await firebase.firestore().collection('calls').doc(calledUserFix.current).delete()\r\n                await firebase.firestore().collection('calls').doc(currentUser.email).delete()\r\n                await firebase.firestore().collection('calls').doc(calledUser.current.value)\r\n                .set({\r\n                        type:\"destroy\",\r\n                        from:currentUser.email,\r\n                })   \r\n            }\r\n            peer.current.destroy()\r\n            setCallText({text:'The call is destroyed ...', user:''})\r\n            setShowCallIcon(\"show\")\r\n            setShowVideoReceiver(false)\r\n            }\r\n            catch(e) {\r\n                console.log(e)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleAcceptCall = () => {\r\n        peer.current=new Peer({\r\n            initiator:false,\r\n            stream:videoEmitter.current.srcObject,\r\n            trickle:false, \r\n            config:{\r\n              iceServers: [\r\n                {\r\n                  urls: ['stun:stun1.l.google.com:19302', 'stun:stun2.l.google.com:19302'],\r\n                },\r\n              ],\r\n              iceCandidatePoolSize: 10,\r\n            }\r\n        })\r\n        peer.current.signal(JSON.parse(receivedCallInfo.sd))\r\n        peer.current.on('signal',(data)=>{\r\n        try{\r\n        firebase.firestore().collection('calls').doc(receivedCallInfo.from)\r\n        .set({\r\n          type:\"accept\",\r\n          from:currentUser.email,\r\n          sd:JSON.stringify(data)\r\n        })\r\n        setCallText({text:'', user:''})\r\n        setShowCallIcon(\"noshow\")\r\n        }\r\n        catch(e){\r\n           console.log(e) \r\n        }\r\n        })\r\n        peer.current.on('stream',(data)=>{\r\n            setCallText({text:'', user:''})\r\n            setShowVideoReceiver(true)\r\n            videoReceiver.current.srcObject=data\r\n            videoReceiver.current.play()\r\n        }) \r\n    }\r\n    const handleRefuseCall = () => {\r\n        try{\r\n            firebase.firestore().collection('calls').doc(receivedCallInfo.from)\r\n            .set({\r\n              type:\"refuse\",\r\n              from:currentUser.email,\r\n            })\r\n            setReceivedCallInfo(null)\r\n            setCallText({text:'Call refused ...', user:''})\r\n            setShowCallIcon(\"show\")\r\n            }\r\n            catch(e){\r\n               console.log(e) \r\n            }\r\n    }\r\n\r\n    return (\r\n        <div className=\"video\">\r\n            <div className=\"video-item\">\r\n              <video ref={videoEmitter}></video>\r\n              <div className=\"video-item-actions\">\r\n                <select name=\"pets\" id=\"pet-select\" ref={calledUser}>\r\n                <option value=\"\">--Please choose who to call--</option>\r\n                {\r\n                usersChat&&usersChat.map((user, index)=>(\r\n                    <option value={user.email}>{user.email.split('@')[0]}</option>                    \r\n                ))\r\n                }\r\n                </select>\r\n                {(showCallIcon==='show' || showCallIcon==='noshow') &&\r\n                <div className={showCallIcon==='show'?\"video-item-icon\":\"video-item-icon2\"} onClick={handleMakeOrEndCall}>\r\n                {showCallIcon==='show'&&<MdCall size={32}/>}\r\n                {showCallIcon==='noshow'&&<MdCallEnd size={32}/>}        \r\n                </div>\r\n                }\r\n              </div>  \r\n            </div>\r\n            <div className=\"video-item\">\r\n            {showVideoReceiver?\r\n                <video ref={videoReceiver}></video>\r\n            :\r\n            receivedCallInfo!=null && !showVideoReceiver &&\r\n                <div className=\"video-item-no-video\">\r\n                    <div className=\"video-item-no-video-answerCall\">\r\n                    <div style={{width:'50%'}}>\r\n                    <div className=\"video-item-icon\" style={{width:'40px'}}\r\n                    onClick={handleAcceptCall}>\r\n                        <MdCall size={32}/>\r\n                    </div>\r\n                    </div>\r\n                    <div style={{width:'50%'}}>\r\n                    <div className=\"video-item-icon2\" style={{width:'40px'}}\r\n                    onClick={handleRefuseCall}>\r\n                        <MdCallEnd size={32}/>\r\n                    </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n                <div className=\"video-item-text\">\r\n                <p>{callText.text} <span className=\"video-item-text-username\">{callText.user}</span></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VideoCall\r\n","import {useRef, useState} from 'react'\r\nimport { Form, Button, Card, Alert, Modal } from \"react-bootstrap\"\r\nimport { useAuth} from \"../Contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport ReactDom from \"react-dom\"\r\nimport axios from 'axios'\r\n\r\nconst getFile =async(url)=>{\r\n  const response = await fetch(url)\r\n  const data = await response.blob()\r\n  return new File([data], \"userPhoto.jpg\", {type:\"image/jpeg\"})\r\n}\r\n\r\nfunction SignUp() {\r\n\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n\r\n    const { signup, currentUser } = useAuth()\r\n\r\n    const [error, setError] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n    const [show, setShow] = useState(true)\r\n\r\n    const history = useHistory()\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n          return setError(\"Passwords do not match\")\r\n        }\r\n    \r\n        try {\r\n          setError(\"\")\r\n          setLoading(true)\r\n          const signupData=await signup(emailRef.current.value, passwordRef.current.value)\r\n          const formdata=new FormData()\r\n\r\n          formdata.append('email', signupData.user.email)\r\n          formdata.append('username', signupData.user.email.split('@')[0])\r\n          formdata.append('secret', signupData.user.uid)\r\n          \r\n          /*const avatar=getFile(signupData.photoURL)\r\n          formdata.append('avatar', avatar, avatar.name)*/\r\n\r\n          const res = axios.post('https://api.chatengine.io/users',formdata,\r\n          {\r\n            headers: {\"private-key\":process.env.REACT_APP_CHAT_ENGINE_PRIVATE_KEY}\r\n          })\r\n          console.log(res)\r\n          setShow(false)\r\n          history.push(\"/\")\r\n        } catch {\r\n          setError(\"Failed to create an account\")\r\n        }\r\n    \r\n        setLoading(false)\r\n      }\r\n\r\n    return (\r\n        <Modal show={show} centered>\r\n        <Card>\r\n          <Card.Body>\r\n            <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Group id=\"email\">\r\n                <Form.Label>Email</Form.Label>\r\n                <Form.Control type=\"email\" ref={emailRef} required />\r\n              </Form.Group>\r\n              <Form.Group id=\"password\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" ref={passwordRef} required />\r\n              </Form.Group>\r\n              <Form.Group id=\"password-confirm\">\r\n                <Form.Label>Password Confirmation</Form.Label>\r\n                <Form.Control type=\"password\" ref={passwordConfirmRef} required />\r\n              </Form.Group>\r\n              <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n                Sign Up\r\n              </Button>\r\n            </Form>\r\n          </Card.Body>\r\n          <Card.Footer>\r\n          <Button variant=\"primary\" onClick={() => setShow(false)}>\r\n        Exit\r\n      </Button>\r\n          </Card.Footer>\r\n        </Card>\r\n        <div className=\"w-100 text-center mt-2\">\r\n          Already have an account? <Link to=\"/login\">Log In</Link>\r\n        </div>\r\n      </Modal>\r\n    )\r\n}\r\n\r\nexport default SignUp\r\n","import React, { useRef, useState, useEffect } from \"react\"\r\nimport { Form, Button, Card, Alert, Modal } from \"react-bootstrap\"\r\nimport { useAuth } from \"../Contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function Login() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const { login, currentUser } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const [show, setShow] = useState(true)\r\n\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await login(emailRef.current.value, passwordRef.current.value)\r\n      console.log(currentUser)\r\n      setShow(false)\r\n      history.push(\"/\")\r\n\r\n    } catch {\r\n      setError(\"Failed to log in\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} centered>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Log In</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Log In\r\n            </Button>\r\n          </Form>\r\n          <div className=\"w-100 text-center mt-3\">\r\n            <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n          </div>\r\n        </Card.Body>\r\n        <Modal.Footer>\r\n        <Button variant=\"primary\" onClick={() => setShow(false)}>\r\n        Exit\r\n      </Button>\r\n      </Modal.Footer>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}","  \r\nimport React, { useState } from \"react\"\r\nimport { Card, Button, Alert, Modal } from \"react-bootstrap\"\r\nimport { useAuth } from \"../Contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\n function Dashboard() {\r\n  const [error, setError] = useState(\"\")\r\n  const [show, setShow] = useState(true)\r\n\r\n  const { currentUser, logout } = useAuth()\r\n  const history = useHistory()\r\n\r\n  async function handleLogout() {\r\n    setError(\"\")\r\n\r\n    try {\r\n      await logout()\r\n      history.push(\"/login\")\r\n    } catch {\r\n      setError(\"Failed to log out\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} centered>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Profile</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <strong>Email:</strong> {currentUser!=null&&currentUser.email}\r\n          <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3\">\r\n            Update Profile\r\n          </Link>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n        <Button variant=\"primary\" onClick={() => setShow(false)}>\r\n        Exit\r\n      </Button>\r\n        </Card.Footer>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        <Button variant=\"link\" onClick={handleLogout}>\r\n          Log Out\r\n        </Button>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\nexport default Dashboard","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert, Modal } from \"react-bootstrap\"\r\nimport { useAuth } from \"../Contexts/AuthContext\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport default function ForgotPassword() {\r\n  const emailRef = useRef()\r\n  const { resetPassword } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [message, setMessage] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const [show, setShow] = useState(true)\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setMessage(\"\")\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await resetPassword(emailRef.current.value)\r\n      setMessage(\"Check your inbox for further instructions\")\r\n    } catch {\r\n      setError(\"Failed to reset password\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} centered>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Password Reset</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          {message && <Alert variant=\"success\">{message}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Reset Password\r\n            </Button>\r\n          </Form>\r\n          <div className=\"w-100 text-center mt-3\">\r\n            <Link to=\"/login\">Login</Link>\r\n          </div>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n        <Button variant=\"primary\" onClick={() => setShow(false)}>\r\n        Exit\r\n      </Button>\r\n      </Card.Footer>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert, Modal } from \"react-bootstrap\"\r\nimport { useAuth } from \"../Contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function UpdateProfile() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n\r\n  const { currentUser, updatePassword, updateEmail } = useAuth()\r\n\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const [show, setShow] = useState(true)\r\n\r\n  const history = useHistory()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    const promises = []\r\n    setLoading(true)\r\n    setError(\"\")\r\n\r\n    if (emailRef.current.value !== currentUser.email) {\r\n      promises.push(updateEmail(emailRef.current.value))\r\n    }\r\n    if (passwordRef.current.value) {\r\n      promises.push(updatePassword(passwordRef.current.value))\r\n    }\r\n\r\n    Promise.all(promises)\r\n      .then(() => {\r\n        history.push(\"/\")\r\n      })\r\n      .catch(() => {\r\n        setError(\"Failed to update account\")\r\n      })\r\n      .finally(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} centered>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Update Profile</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                ref={emailRef}\r\n                required\r\n                defaultValue={currentUser!=null && currentUser.email}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                ref={passwordRef}\r\n                placeholder=\"Leave blank to keep the same\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group id=\"password-confirm\">\r\n              <Form.Label>Password Confirmation</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                ref={passwordConfirmRef}\r\n                placeholder=\"Leave blank to keep the same\"\r\n              />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Update\r\n            </Button>\r\n          </Form>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n        <Button variant=\"primary\" onClick={() => setShow(false)}>\r\n        Exit\r\n      </Button>\r\n        </Card.Footer>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        <Link to=\"/\">Cancel</Link>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}","import React, {useEffect, useState } from 'react';\nimport { Container } from \"react-bootstrap\";\nimport { \n  HashRouter as Router,\n  Route,\n  Redirect,\n  Switch\n} from 'react-router-dom'\nimport './App.css'\n\n\nimport ChatRoom from './pages/ChatRoom'\nimport Home from './pages/Home'\nimport Navbar from './Components/Navbar';\nimport VideoCall from './pages/VideoCall'\n\nimport Signup from './Components/SignUp';\nimport Login from './Components/Login';\nimport Profil from './Components/Profil'\nimport ForgotPassword from './Components/ForgotPassword';\nimport UpdateProfil from './Components/UpdateProfile';\n\nimport {AuthProvider} from './Contexts/AuthContext'\nimport {PeerProvider} from './Contexts/PeerContext'\n\nconst App = () => {\n  \n\n  return (\n  <PeerProvider>\n  <AuthProvider>\n  <div className=\"App\">\n   <Router>\n    <Navbar/>\n      <Switch>\n        <Route path=\"/\" exact>\n          <Home/>\n        </Route>\n        <Route path=\"/forgot-password\" exact>\n        <Container\n      className=\"d-flex align-items-center justify-content-center\"\n      style={{ minHeight: \"100vh\" }}\n    >\n      <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\n      <ForgotPassword/>\n      </div>\n    </Container>\n        </Route>\n        <Route path=\"/signup\" exact>\n        <Container\n      className=\"d-flex align-items-center justify-content-center\"\n      style={{ minHeight: \"100vh\" }}\n    >\n      <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\n      <Signup/>\n      </div>\n    </Container>\n        </Route>\n        <Route path=\"/login\" exact>\n        <Container\n      className=\"d-flex align-items-center justify-content-center\"\n      style={{ minHeight: \"100vh\" }}\n    >\n      <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\n      <Login/>\n      </div>\n    </Container>\n        </Route>\n        <Route path=\"/my-account\" exact>\n        <Container\n      className=\"d-flex align-items-center justify-content-center\"\n      style={{ minHeight: \"100vh\" }}\n    >\n      <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\n      <Profil/>\n      </div>\n    </Container>\n        </Route>\n        <Route path=\"/update-profile\" exact>\n        <Container\n      className=\"d-flex align-items-center justify-content-center\"\n      style={{ minHeight: \"100vh\" }}\n    >\n      <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\n      <UpdateProfil/>\n      </div>\n    </Container>\n        </Route>\n        <Route path=\"/chat\" exact>\n          <ChatRoom/>\n        </Route>\n        <Route path=\"/call\" exact>\n          <VideoCall/>\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n   </Router>\n  </div>\n  </AuthProvider>\n  </PeerProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}