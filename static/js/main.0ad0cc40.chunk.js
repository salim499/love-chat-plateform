(this.webpackJsonpmodern_react_navbar=this.webpackJsonpmodern_react_navbar||[]).push([[0],{202:function(e,t,c){},377:function(e,t,c){},381:function(e,t,c){},382:function(e,t,c){},385:function(e,t,c){var r={"./0.svg":[409,3],"./1.svg":[410,4],"./10.svg":[411,5],"./100.svg":[412,6],"./11.svg":[413,7],"./12.svg":[414,8],"./13.svg":[415,9],"./14.svg":[416,10],"./15.svg":[417,11],"./16.svg":[418,12],"./17.svg":[419,13],"./18.svg":[420,14],"./19.svg":[421,15],"./2.svg":[422,16],"./20.svg":[423,17],"./21.svg":[424,18],"./22.svg":[425,19],"./23.svg":[426,20],"./24.svg":[427,21],"./25.svg":[428,22],"./26.svg":[429,23],"./27.svg":[430,24],"./28.svg":[431,25],"./29.svg":[432,26],"./3.svg":[433,27],"./30.svg":[434,28],"./31.svg":[435,29],"./32.svg":[436,30],"./33.svg":[437,31],"./34.svg":[438,32],"./35.svg":[439,33],"./36.svg":[440,34],"./37.svg":[441,35],"./38.svg":[442,36],"./39.svg":[443,37],"./4.svg":[444,38],"./40.svg":[445,39],"./41.svg":[446,40],"./42.svg":[447,41],"./43.svg":[448,42],"./44.svg":[449,43],"./45.svg":[450,44],"./46.svg":[451,45],"./47.svg":[452,46],"./48.svg":[453,47],"./49.svg":[454,48],"./5.svg":[455,49],"./50.svg":[456,50],"./51.svg":[457,51],"./52.svg":[458,52],"./53.svg":[459,53],"./54.svg":[460,54],"./55.svg":[461,55],"./56.svg":[462,56],"./57.svg":[463,57],"./58.svg":[464,58],"./59.svg":[465,59],"./6.svg":[466,60],"./60.svg":[467,61],"./61.svg":[468,62],"./62.svg":[469,63],"./63.svg":[470,64],"./64.svg":[471,65],"./65.svg":[472,66],"./66.svg":[473,67],"./67.svg":[474,68],"./68.svg":[475,69],"./69.svg":[476,70],"./7.svg":[477,71],"./70.svg":[478,72],"./71.svg":[479,73],"./72.svg":[480,74],"./73.svg":[481,75],"./74.svg":[482,76],"./75.svg":[483,77],"./76.svg":[484,78],"./77.svg":[485,79],"./78.svg":[486,80],"./79.svg":[487,81],"./8.svg":[488,82],"./80.svg":[489,83],"./81.svg":[490,84],"./82.svg":[491,85],"./83.svg":[492,86],"./84.svg":[493,87],"./85.svg":[494,88],"./86.svg":[495,89],"./87.svg":[496,90],"./88.svg":[497,91],"./89.svg":[498,92],"./9.svg":[499,93],"./90.svg":[500,94],"./91.svg":[501,95],"./92.svg":[502,96],"./93.svg":[503,97],"./94.svg":[504,98],"./95.svg":[505,99],"./96.svg":[506,100],"./97.svg":[507,101],"./98.svg":[508,102],"./99.svg":[509,103]};function n(e){if(!c.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return c.e(t[1]).then((function(){return c(n)}))}n.keys=function(){return Object.keys(r)},n.id=385,e.exports=n},386:function(e,t,c){},394:function(e,t){},396:function(e,t){},405:function(e,t,c){},407:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),s=c(26),a=c.n(s),i=(c(201),c(514)),l=c(19),o=c(20),u=(c(202),c(196)),j=c(195),d=(c(377),c(12)),b=c.n(d),x=c(16),f=c(8),h=c(191),p=(c(378),c(408),h.a.initializeApp({apiKey:"AIzaSyAaBlsJsd_p9RK6rd8Z0BqIh9SeQ6sGjDA",authDomain:"chat-app-e3fef.firebaseapp.com",projectId:"chat-app-e3fef",storageBucket:"chat-app-e3fef.appspot.com",messagingSenderId:"293479775714",appId:"1:293479775714:web:14d262a04c59e4e86f8dbb",measurementId:"G-8N6DY58FPK"})),v=p.auth(),O=p,m=c(15),g=c.n(m),y=c(4),w=n.a.createContext();function k(){return Object(r.useContext)(w)}function C(e){var t=e.children,c=Object(r.useState)(),n=Object(f.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(!0),l=Object(f.a)(i,2),o=l[0],u=l[1],j=Object(r.useState)(),d=Object(f.a)(j,2),h=d[0],p=d[1];Object(r.useEffect)((function(){return v.onAuthStateChanged((function(e){a(e),u(!1)}))}),[]),Object(r.useEffect)(Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=5;break}return e.next=3,g.a.get("https://api.chatengine.io/users/",{headers:{"private-key":"e8bc094d-c2f4-48ea-86fe-af5a9c51f2c2"}});case 3:t=e.sent,p(t.data.filter((function(e){return e.email!=s.email})));case 5:case"end":return e.stop()}}),e)}))),[s]);var O={currentUser:s,usersChat:h,login:function(e,t){return v.signInWithEmailAndPassword(e,t)},signup:function(e,t){return v.createUserWithEmailAndPassword(e,t)},logout:function(){return v.signOut()},resetPassword:function(e){return v.sendPasswordResetEmail(e)},updateEmail:function(e){return s.updateEmail(e)},updatePassword:function(e){return s.updatePassword(e)}};return Object(y.jsx)(w.Provider,{value:O,children:!o&&t})}var N=c(74),S=c(0),E=(c(381),n.a.createContext());function P(){return Object(r.useContext)(E)}function R(e){var t=e.children,c=Object(r.useRef)(),n=Object(r.useState)(!1),s=Object(f.a)(n,2),a=s[0],i=s[1],l=Object(r.useState)(""),o=Object(f.a)(l,2),u=o[0],j=o[1],d=Object(r.useState)(null),b=Object(f.a)(d,2),x={peer:c,showVideoCall:a,setShowVideoCall:i,currentCallState:u,setCurrentCallState:j,callInformation:b[0],setCallInformation:b[1]};return Object(y.jsx)(E.Provider,{value:x,children:t})}var I=function(e){var t=P(),c=t.setShowVideoCall,n=t.setCurrentCallState,s=t.setCallInformation,a=t.callInformation,i=k().currentUser;return Object(r.useEffect)((function(){if(null!=i)O.firestore().collection("calls").doc(i.email).onSnapshot(function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data()),t.data()&&"offer"===t.data().type?(console.log(t.data()),c(!0),n("callResponse"),s(t.data())):null==t.data()&&c(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(r.useEffect)(Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||null==i){e.next=16;break}return e.prev=1,e.next=4,O.firestore().collection("calls").doc(i.email).delete();case 4:return console.log("Current successfully deleted!"),e.next=7,O.firestore().collection("destroy").doc(i.email);case 7:if(e.t0=e.sent,null==e.t0){e.next=11;break}return e.next=11,O.firestore().collection("destroy").doc(i.email).delete();case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),console.error("Error removing document: ",e.t1);case 16:if(!a||null==a){e.next=32;break}return e.prev=17,e.next=20,O.firestore().collection("calls").doc(a.from).delete();case 20:return console.log("Other successfully deleted!"),e.next=23,O.firestore().collection("destroy").doc(a.from);case 23:if(e.t2=e.sent,null==e.t2){e.next=27;break}return e.next=27,O.firestore().collection("destroy").doc(a.from).delete();case 27:e.next=32;break;case 29:e.prev=29,e.t3=e.catch(17),console.error("Error removing document: ",e.t3);case 32:case"end":return e.stop()}}),e,null,[[1,13],[17,29]])}))),[]),Object(y.jsxs)("div",{className:"chatroomHeaderContainer",children:[Object(y.jsx)("br",{}),Object(y.jsx)("h1",{children:e.title}),Object(y.jsx)("div",{children:Object(y.jsxs)(S.b.Provider,{value:{color:"green"},children:[Object(y.jsx)(N.a,{size:48,onClick:function(){c(!0),n("callOffer")}}),"\xa0\xa0\xa0\xa0\xa0"]})})]})};var U=function(){var e=k().currentUser;return null!=e?Object(y.jsx)(j.d,{height:"90.5vh",projectID:"7637b906-c83c-4ef7-a194-25c5224671ba",userName:e.email.split("@")[0],userSecret:e.uid,renderChatHeader:function(e){return Object(y.jsx)(I,Object(u.a)({},e))}}):"Connectez vous"},F=(c(382),{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#FFF",padding:"50px",zIndex:1e3,height:"500px",width:"450px",display:"flex",flexDirection:"column",justifyContent:"space-around"}),L={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3},z={fontSize:"32px",textShadow:"-1px -1px #0c0, 1px 1px #060, -3px 0 4px #000",fontFamily:"Arial, Helvetica, sans-serif",color:"#090",padding:"16px",fontWeight:"lighter",textAlign:"center",display:"block",margin:"rgba16px"};var A=function(e){var t=Object(o.g)(),n=k().currentUser,s=Object(r.useState)(null),i=Object(f.a)(s,2),l=i[0],u=i[1];return Object(r.useEffect)((function(){c(385)("./".concat(e.svgNumber,".svg")).then((function(e){u(e.default)}))}),[]),a.a.createPortal(Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{style:L}),Object(y.jsxs)("div",{style:F,children:[null!=l&&Object(y.jsx)("img",{src:l}),Object(y.jsx)("div",{style:z,children:e.messageResult}),Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{onClick:function(){null==n?t.push("/login"):t.push("/chat")},children:"Chatroom"}),Object(y.jsx)("button",{onClick:function(){e.setMatchResult(null)},children:"Exit"})]})]})]}),document.getElementById("portal"))};var D=function(){var e=P(),t=(e.showVideoCall,e.currentCallState,e.callInformation),c=(e.setCallInformation,e.setShowVideoCall,k()),n=(c.usersChat,c.currentUser),s=Object(r.useRef)(),a=Object(r.useRef)(),i=Object(r.useState)(null),l=Object(f.a)(i,2),o=l[0],u=l[1];return Object(r.useEffect)(Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||null==n){e.next=16;break}return e.prev=1,e.next=4,O.firestore().collection("calls").doc(n.email).delete();case 4:return console.log("Current successfully deleted!"),e.next=7,O.firestore().collection("destroy").doc(n.email);case 7:if(e.t0=e.sent,null==e.t0){e.next=11;break}return e.next=11,O.firestore().collection("destroy").doc(n.email).delete();case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),console.error("Error removing document: ",e.t1);case 16:if(!t||null==t){e.next=32;break}return e.prev=17,e.next=20,O.firestore().collection("calls").doc(t.from).delete();case 20:return console.log("Other successfully deleted!"),e.next=23,O.firestore().collection("destroy").doc(t.from);case 23:if(e.t2=e.sent,null==e.t2){e.next=27;break}return e.next=27,O.firestore().collection("destroy").doc(t.from).delete();case 27:e.next=32;break;case 29:e.prev=29,e.t3=e.catch(17),console.error("Error removing document: ",e.t3);case 32:case"end":return e.stop()}}),e,null,[[1,13],[17,29]])}))),[]),null===o?Object(y.jsxs)("form",{className:"home",onSubmit:function(e){e.preventDefault(),fetch("https://love-calculator.p.rapidapi.com/getPercentage?fname=".concat(s.current.value,"&sname=").concat(a.current.value),{method:"GET",headers:{"x-rapidapi-key":"36f99601d0mshff227eef7694e85p164d14jsn84b0ebf94d9e","x-rapidapi-host":"love-calculator.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){console.log(e),u(e)})).catch((function(e){console.log("err")}))},children:[Object(y.jsxs)("div",{className:"form",children:[Object(y.jsx)("input",{type:"text",placeholder:"Your Name",required:!0,autocomplete:"off",ref:s}),Object(y.jsx)("label",{for:"name",className:"label-name",children:Object(y.jsx)("span",{className:"content-name"})})]}),Object(y.jsxs)("div",{className:"form",children:[Object(y.jsx)("input",{type:"text",placeholder:"Match Name",required:!0,autocomplete:"off",ref:a}),Object(y.jsx)("label",{for:"name",className:"label-name",children:Object(y.jsx)("span",{className:"content-name"})})]}),Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"submit",value:"Calcul love",className:"button"})})]}):Object(y.jsx)(A,{svgNumber:o.percentage,messageResult:o.result,setMatchResult:u})},G=(c(386),c(38)),H=c.n(G),B=c(50),q=c(127),T=c(193),V=function(){var e=k().currentUser;function t(){var e=H()("#navbarSupportedContent").find(".active"),t=e.innerHeight(),c=e.innerWidth(),r=e.position(),n=e.position();H()(".hori-selector").css({top:r.top+"px",left:n.left+"px",height:t+"px",width:c+"px"}),H()("#navbarSupportedContent").on("click","li",(function(e){H()("#navbarSupportedContent ul li").removeClass("active"),H()(this).addClass("active");var t=H()(this).innerHeight(),c=H()(this).innerWidth(),r=H()(this).position(),n=H()(this).position();H()(".hori-selector").css({top:r.top+"px",left:n.left+"px",height:t+"px",width:c+"px"})}))}return Object(r.useEffect)((function(){t(),H()(window).on("resize",(function(){setTimeout((function(){t()}),500)}))}),[]),Object(y.jsx)(S.b.Provider,{value:{size:"22px",style:{verticalAlign:"middle",marginRight:"7.5px",marginBottom:"3px"}},children:Object(y.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-mainbg",children:[Object(y.jsx)(l.c,{className:"navbar-brand navbar-logo",to:"/",exact:!0,children:"SalKat Love Calculator"}),Object(y.jsx)("button",{className:"navbar-toggler",onClick:function(){setTimeout((function(){t()}))},type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(y.jsx)("i",{className:"fas fa-bars text-white"})}),Object(y.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:null!=e?Object(y.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(y.jsxs)("div",{className:"hori-selector",children:[Object(y.jsx)("div",{className:"left"}),Object(y.jsx)("div",{className:"right"})]}),Object(y.jsx)("li",{className:"nav-item active",children:Object(y.jsxs)(l.c,{className:"nav-link",to:"/",exact:!0,children:[Object(y.jsx)(B.c,{}),"Home"]})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsxs)(l.c,{className:"nav-link",to:"/my-account",exact:!0,children:[Object(y.jsx)(q.a,{}),"My Account"]})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsxs)(l.c,{className:"nav-link",to:"/chat",exact:!0,children:[Object(y.jsx)(T.a,{}),"Chatroom"]})})]}):Object(y.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(y.jsxs)("div",{className:"hori-selector",children:[Object(y.jsx)("div",{className:"left"}),Object(y.jsx)("div",{className:"right"})]}),Object(y.jsx)("li",{className:"nav-item active",children:Object(y.jsxs)(l.c,{className:"nav-link",to:"/",exact:!0,children:[Object(y.jsx)(B.c,{}),"Home"]})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsxs)(l.c,{className:"nav-link",to:"/signup",exact:!0,children:[Object(y.jsx)(q.b,{}),"Signup"]})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsxs)(l.c,{className:"nav-link",to:"/login",exact:!0,children:[Object(y.jsx)(B.d,{}),"Login"]})})]})})]})})},W=c(515),M=c(128),J=(c(405),c(95));var _=function(){var e=P(),t=e.showVideoCall,c=e.currentCallState,n=e.callInformation,s=e.setCallInformation,a=e.setShowVideoCall,i=k(),l=i.usersChat,o=i.currentUser,u=Object(r.useRef)(),j=Object(r.useRef)(),d=Object(r.useRef)(),h=Object(r.useState)(!1),p=Object(f.a)(h,2),v=p[0],m=p[1],g=Object(r.useState)(!0),w=Object(f.a)(g,2),C=w[0],S=w[1],E=Object(r.useState)(!0),R=Object(f.a)(E,2),I=R[0],U=R[1],F=Object(r.useState)(!1),L=Object(f.a)(F,2),z=L[0],A=L[1],D=Object(r.useState)(!1),G=Object(f.a)(D,2),H=G[0],q=G[1];Object(r.useEffect)(Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}if("callOffer"!==c){e.next=10;break}return e.next=4,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 4:u.current.srcObject=e.sent,u.current.play(),d.current=new M({initiator:!0,stream:u.current.srcObject,trickle:!1,config:{iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10}}),d.current.on("signal",function(){var e=Object(x.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=O.firestore().collection("calls").doc(l[0].email).set({type:"offer",from:o.email,sd:JSON.stringify(t)}),e.abrupt("return",c);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=16;break;case 10:if("callResponse"!==c){e.next=16;break}return e.next=13,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 13:u.current.srcObject=e.sent,u.current.play(),A(!0);case 16:case"end":return e.stop()}}),e)}))),[t,c]),Object(r.useEffect)((function(){O.firestore().collection("calls").doc(o.email).onSnapshot(function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t.data()),t.data()&&"response"===t.data().type?(d.current.signal(JSON.parse(t.data().sd)),d.current.on("stream",(function(e){m(!0),j.current.srcObject=e,j.current.play()}))):null==t.data()&&a(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(r.useEffect)((function(){O.firestore().collection("destroy").doc(o.email).onSnapshot(function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=t.data()&&(m(!1),q(!0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var T=function(){u.current.srcObject.getVideoTracks()[0].enabled=!u.current.srcObject.getVideoTracks()[0].enabled,S(!C),console.log(d.current)},V=function(){u.current.srcObject.getAudioTracks()[0].enabled=!u.current.srcObject.getAudioTracks()[0].enabled,U(!I)},_=function(){var e=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.firestore().collection("destroy").doc(l[0].email).set({destroy:o.email}),d.current.destroy(),e.prev=2,e.next=5,O.firestore().collection("calls").doc(o.email).delete();case 5:return console.log("Current successfully deleted!"),e.next=8,O.firestore().collection("calls").doc(n.from).delete();case 8:console.log("Other successfully deleted!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error removing document: ",e.t0);case 14:a(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(W.a,{show:t,size:"lg",centered:!0,children:[Object(y.jsxs)("div",{className:"videosContainer",children:[Object(y.jsx)("video",{ref:u,className:"videoEmitter"}),v&&Object(y.jsx)("video",{ref:j,className:"videoReceiver"}),z&&Object(y.jsxs)("div",{style:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(y.jsx)(J.a,{size:48,onClick:function(){m(!0),A(!1),d.current=new M({initiator:!1,stream:u.current.srcObject,trickle:!1,config:{iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10}}),d.current.signal(JSON.parse(n.sd)),d.current.on("signal",(function(e){O.firestore().collection("calls").doc(n.from).set({type:"response",from:o.email,sd:JSON.stringify(e)})})),d.current.on("stream",(function(e){j.current.srcObject=e,j.current.play()}))}}),"Answer the call from ",n.from.split("@")[0]]}),H&&Object(y.jsx)("div",{style:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:"The call is over"})]}),Object(y.jsxs)("div",{className:"videoActions",children:[C?Object(y.jsx)(N.b,{size:48,onClick:T}):Object(y.jsx)(N.a,{size:48,onClick:T}),I?Object(y.jsx)(B.b,{size:48,onClick:V}):Object(y.jsx)(B.a,{size:48,onClick:V}),Object(y.jsx)(J.b,{size:48,onClick:_})]})]})},K=c(518),Y=c(517),Q=c(516),Z=c(513);var X=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),c=Object(r.useRef)(),n=k(),s=n.signup,a=(n.currentUser,Object(r.useState)("")),i=Object(f.a)(a,2),u=i[0],j=i[1],d=Object(r.useState)(!1),h=Object(f.a)(d,2),p=h[0],v=h[1],O=Object(r.useState)(!0),m=Object(f.a)(O,2),w=m[0],C=m[1],N=Object(o.g)();function S(){return(S=Object(x.a)(b.a.mark((function r(n){var a,i,l;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.preventDefault(),t.current.value===c.current.value){r.next=3;break}return r.abrupt("return",j("Passwords do not match"));case 3:return r.prev=3,j(""),v(!0),r.next=8,s(e.current.value,t.current.value);case 8:a=r.sent,(i=new FormData).append("email",a.user.email),i.append("username",a.user.email.split("@")[0]),i.append("secret",a.user.uid),l=g.a.post("https://api.chatengine.io/users",i,{headers:{"private-key":"e8bc094d-c2f4-48ea-86fe-af5a9c51f2c2"}}),console.log(l),C(!1),N.push("/"),r.next=22;break;case 19:r.prev=19,r.t0=r.catch(3),j("Failed to create an account");case 22:v(!1);case 23:case"end":return r.stop()}}),r,null,[[3,19]])})))).apply(this,arguments)}return Object(y.jsxs)(W.a,{show:w,centered:!0,children:[Object(y.jsxs)(K.a,{children:[Object(y.jsxs)(K.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),u&&Object(y.jsx)(Y.a,{variant:"danger",children:u}),Object(y.jsxs)(Q.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(y.jsxs)(Q.a.Group,{id:"email",children:[Object(y.jsx)(Q.a.Label,{children:"Email"}),Object(y.jsx)(Q.a.Control,{type:"email",ref:e,required:!0})]}),Object(y.jsxs)(Q.a.Group,{id:"password",children:[Object(y.jsx)(Q.a.Label,{children:"Password"}),Object(y.jsx)(Q.a.Control,{type:"password",ref:t,required:!0})]}),Object(y.jsxs)(Q.a.Group,{id:"password-confirm",children:[Object(y.jsx)(Q.a.Label,{children:"Password Confirmation"}),Object(y.jsx)(Q.a.Control,{type:"password",ref:c,required:!0})]}),Object(y.jsx)(Z.a,{disabled:p,className:"w-100",type:"submit",children:"Sign Up"})]})]}),Object(y.jsx)(K.a.Footer,{children:Object(y.jsx)(Z.a,{variant:"primary",onClick:function(){return C(!1)},children:"Exit"})})]}),Object(y.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(y.jsx)(l.b,{to:"/login",children:"Log In"})]})]})};function $(){var e=Object(r.useRef)(),t=Object(r.useRef)(),c=k(),n=c.login,s=c.currentUser,a=Object(r.useState)(""),i=Object(f.a)(a,2),u=i[0],j=i[1],d=Object(r.useState)(!1),h=Object(f.a)(d,2),p=h[0],v=h[1],O=Object(r.useState)(!0),m=Object(f.a)(O,2),g=m[0],w=m[1],C=Object(o.g)();function N(){return(N=Object(x.a)(b.a.mark((function c(r){return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),c.prev=1,j(""),v(!0),c.next=6,n(e.current.value,t.current.value);case 6:console.log(s),w(!1),C.push("/"),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),j("Failed to log in");case 14:v(!1);case 15:case"end":return c.stop()}}),c,null,[[1,11]])})))).apply(this,arguments)}return Object(y.jsxs)(W.a,{show:g,centered:!0,children:[Object(y.jsxs)(K.a,{children:[Object(y.jsxs)(K.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),u&&Object(y.jsx)(Y.a,{variant:"danger",children:u}),Object(y.jsxs)(Q.a,{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(y.jsxs)(Q.a.Group,{id:"email",children:[Object(y.jsx)(Q.a.Label,{children:"Email"}),Object(y.jsx)(Q.a.Control,{type:"email",ref:e,required:!0})]}),Object(y.jsxs)(Q.a.Group,{id:"password",children:[Object(y.jsx)(Q.a.Label,{children:"Password"}),Object(y.jsx)(Q.a.Control,{type:"password",ref:t,required:!0})]}),Object(y.jsx)(Z.a,{disabled:p,className:"w-100",type:"submit",children:"Log In"})]}),Object(y.jsx)("div",{className:"w-100 text-center mt-3",children:Object(y.jsx)(l.b,{to:"/forgot-password",children:"Forgot Password?"})})]}),Object(y.jsx)(W.a.Footer,{children:Object(y.jsx)(Z.a,{variant:"primary",onClick:function(){return w(!1)},children:"Exit"})})]}),Object(y.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(y.jsx)(l.b,{to:"/signup",children:"Sign Up"})]})]})}var ee=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),c=t[0],n=t[1],s=Object(r.useState)(!0),a=Object(f.a)(s,2),i=a[0],u=a[1],j=k(),d=j.currentUser,h=j.logout,p=Object(o.g)();function v(){return(v=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(""),e.prev=1,e.next=4,h();case 4:p.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(y.jsxs)(W.a,{show:i,centered:!0,children:[Object(y.jsxs)(K.a,{children:[Object(y.jsxs)(K.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),c&&Object(y.jsx)(Y.a,{variant:"danger",children:c}),Object(y.jsx)("strong",{children:"Email:"})," ",null!=d&&d.email,Object(y.jsx)(l.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]}),Object(y.jsx)(K.a.Footer,{children:Object(y.jsx)(Z.a,{variant:"primary",onClick:function(){return u(!1)},children:"Exit"})})]}),Object(y.jsx)("div",{className:"w-100 text-center mt-2",children:Object(y.jsx)(Z.a,{variant:"link",onClick:function(){return v.apply(this,arguments)},children:"Log Out"})})]})};function te(){var e=Object(r.useRef)(),t=k().resetPassword,c=Object(r.useState)(""),n=Object(f.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(""),o=Object(f.a)(i,2),u=o[0],j=o[1],d=Object(r.useState)(!1),h=Object(f.a)(d,2),p=h[0],v=h[1],O=Object(r.useState)(!0),m=Object(f.a)(O,2),g=m[0],w=m[1];function C(){return(C=Object(x.a)(b.a.mark((function c(r){return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),c.prev=1,j(""),a(""),v(!0),c.next=7,t(e.current.value);case 7:j("Check your inbox for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),a("Failed to reset password");case 13:v(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(y.jsxs)(W.a,{show:g,centered:!0,children:[Object(y.jsxs)(K.a,{children:[Object(y.jsxs)(K.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),s&&Object(y.jsx)(Y.a,{variant:"danger",children:s}),u&&Object(y.jsx)(Y.a,{variant:"success",children:u}),Object(y.jsxs)(Q.a,{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(y.jsxs)(Q.a.Group,{id:"email",children:[Object(y.jsx)(Q.a.Label,{children:"Email"}),Object(y.jsx)(Q.a.Control,{type:"email",ref:e,required:!0})]}),Object(y.jsx)(Z.a,{disabled:p,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(y.jsx)("div",{className:"w-100 text-center mt-3",children:Object(y.jsx)(l.b,{to:"/login",children:"Login"})})]}),Object(y.jsx)(K.a.Footer,{children:Object(y.jsx)(Z.a,{variant:"primary",onClick:function(){return w(!1)},children:"Exit"})})]}),Object(y.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(y.jsx)(l.b,{to:"/signup",children:"Sign Up"})]})]})}function ce(){var e=Object(r.useRef)(),t=Object(r.useRef)(),c=Object(r.useRef)(),n=k(),s=n.currentUser,a=n.updatePassword,i=n.updateEmail,u=Object(r.useState)(""),j=Object(f.a)(u,2),d=j[0],b=j[1],x=Object(r.useState)(!1),h=Object(f.a)(x,2),p=h[0],v=h[1],O=Object(r.useState)(!0),m=Object(f.a)(O,2),g=m[0],w=m[1],C=Object(o.g)();return Object(y.jsxs)(W.a,{show:g,centered:!0,children:[Object(y.jsxs)(K.a,{children:[Object(y.jsxs)(K.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),d&&Object(y.jsx)(Y.a,{variant:"danger",children:d}),Object(y.jsxs)(Q.a,{onSubmit:function(r){if(r.preventDefault(),t.current.value!==c.current.value)return b("Passwords do not match");var n=[];v(!0),b(""),e.current.value!==s.email&&n.push(i(e.current.value)),t.current.value&&n.push(a(t.current.value)),Promise.all(n).then((function(){C.push("/")})).catch((function(){b("Failed to update account")})).finally((function(){v(!1)}))},children:[Object(y.jsxs)(Q.a.Group,{id:"email",children:[Object(y.jsx)(Q.a.Label,{children:"Email"}),Object(y.jsx)(Q.a.Control,{type:"email",ref:e,required:!0,defaultValue:null!=s&&s.email})]}),Object(y.jsxs)(Q.a.Group,{id:"password",children:[Object(y.jsx)(Q.a.Label,{children:"Password"}),Object(y.jsx)(Q.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(y.jsxs)(Q.a.Group,{id:"password-confirm",children:[Object(y.jsx)(Q.a.Label,{children:"Password Confirmation"}),Object(y.jsx)(Q.a.Control,{type:"password",ref:c,placeholder:"Leave blank to keep the same"})]}),Object(y.jsx)(Z.a,{disabled:p,className:"w-100",type:"submit",children:"Update"})]})]}),Object(y.jsx)(K.a.Footer,{children:Object(y.jsx)(Z.a,{variant:"primary",onClick:function(){return w(!1)},children:"Exit"})})]}),Object(y.jsx)("div",{className:"w-100 text-center mt-2",children:Object(y.jsx)(l.b,{to:"/",children:"Cancel"})})]})}var re=function(){return Object(y.jsx)(R,{children:Object(y.jsx)(C,{children:Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(l.a,{children:[Object(y.jsx)(V,{}),Object(y.jsxs)(o.d,{children:[Object(y.jsx)(o.b,{path:"/",exact:!0,children:Object(y.jsx)(D,{})}),Object(y.jsx)(o.b,{path:"/forgot-password",exact:!0,children:Object(y.jsx)(i.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(y.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(y.jsx)(te,{})})})}),Object(y.jsx)(o.b,{path:"/signup",exact:!0,children:Object(y.jsx)(i.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(y.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(y.jsx)(X,{})})})}),Object(y.jsx)(o.b,{path:"/login",exact:!0,children:Object(y.jsx)(i.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(y.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(y.jsx)($,{})})})}),Object(y.jsx)(o.b,{path:"/my-account",exact:!0,children:Object(y.jsx)(i.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(y.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(y.jsx)(ee,{})})})}),Object(y.jsx)(o.b,{path:"/update-profile",exact:!0,children:Object(y.jsx)(i.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(y.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(y.jsx)(ce,{})})})}),Object(y.jsxs)(o.b,{path:"/chat",exact:!0,children:[Object(y.jsx)(U,{}),Object(y.jsx)(_,{})]}),Object(y.jsx)(o.a,{to:"/"})]})]})})})})};a.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(re,{})}),document.getElementById("root"))}},[[407,1,2]]]);
//# sourceMappingURL=main.0ad0cc40.chunk.js.map